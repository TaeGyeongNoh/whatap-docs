"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[60707],{50876:(n,e,t)=>{t.d(e,{Ay:()=>s,RM:()=>o});var a=t(74848),i=t(28453);const o=[{value:"Next steps",id:"next-steps",level:2}];function r(n){const e={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...n.components},{Cmdname:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,a.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(e.h2,{id:"next-steps",children:"Next steps"}),(0,a.jsx)("div",{className:"nextstep",children:(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Open source tracing"})}),"\n",(0,a.jsx)(e.p,{children:"Depending on the framework or open source library used in applications, you may need to add agent options. For example, when using spring-boot-3.x, feign-client-11, or okhttp3-4.4 with a framework or open source, set the options as follows:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-3.0,feign-11,okhttp3-4.4\n"})}),"\n",(0,a.jsxs)(e.p,{children:["For information on how to configure the framework or open source library that suits your application environment, see ",(0,a.jsx)(e.a,{href:"../agent-weaving",children:"the following"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Checking the installation"})}),"\n",(0,a.jsxs)(e.p,{children:["If you have created a project, installed an agent, and applied all JVM options, see the checklist in ",(0,a.jsx)(e.a,{href:"../install-check",children:"the following"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Installation troubleshooting"})}),"\n",(0,a.jsxs)(e.p,{children:["It provides various problems that may occur when installing the agent and specific instructions for resolving them. It provides solutions against various situations, including firewall configuration, SpringBoot and Tomcat JMX configuration, and server configuration using the OSGI framework. For more information, see ",(0,a.jsx)(e.a,{href:"../agent-troubleshooting",children:"the following"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Agent setting"})}),"\n",(0,a.jsxs)(e.p,{children:["It provides various features for monitoring by applying some options to the agent configuration file (",(0,a.jsx)(e.em,{children:"whatap.conf"}),"). It includes basic configuration, configuration for server connection and data transfer, how to manage the configuration files for multiple application servers, and transaction tracing, and more. For more information, see ",(0,a.jsx)(e.a,{href:"../set-agent",children:"the following"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Starting the monitoring"})}),"\n",(0,a.jsxs)(e.p,{children:["After all settings are made, restart the application server. The agent starts collecting data. First, check whether the monitoring data has been collected in ",(0,a.jsx)(t,{sid:"side_appDashboard",className:"uitext"}),". For more information about ",(0,a.jsx)(t,{sid:"side_appDashboard",className:"uitext"}),", see ",(0,a.jsx)(e.a,{href:"../dashboard",children:"the following"}),"."]}),"\n"]}),"\n"]})})]})}function s(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(r,{...n})}):r(n)}},70878:(n,e,t)=>{t.d(e,{Ay:()=>s,RM:()=>o});var a=t(74848),i=t(28453);const o=[{value:"Viewing the heap histogram",id:"viewing-the-heap-histogram",level:2}];function r(n){const e={admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,i.R)(),...n.components},{Cmdname:t}=e;return t||function(n,e){throw new Error("Expected "+(e?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,a.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(e.h2,{id:"viewing-the-heap-histogram",children:"Viewing the heap histogram"}),(0,a.jsxs)(e.p,{children:["WhaTap's Java Monitoring provides the function to view the status of heap occupancy objects in the JVM memory (sizes for each object in heap memory). In ",(0,a.jsx)(t,{sid:"app_upper",className:"uitext"})," > ",(0,a.jsx)(t,{sid:"instance_performance_analysis",className:"uitext"}),", select the ",(0,a.jsx)(t,{sid:"heap_histogram",className:"uitext"})," tab."]}),(0,a.jsx)(e.p,{children:"Java versions 6 to 8 support basic functions without the JVM options. However, for some Java versions, the JVM options must be applied as follows:"}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"Java 9 to Java 15"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"-Djdk.attach.allowAttachSelf=true\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",metastring:'title="example"',children:"java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true -jar {application.jar}\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"Java 16 or later"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"-Djdk.attach.allowAttachSelf=true\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\n"})}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",metastring:'title="example"',children:"java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED -jar {application.jar}\n"})}),"\n"]}),"\n"]}),(0,a.jsx)(e.admonition,{type:"note",children:(0,a.jsx)(e.p,{children:"It does not support Java 5 or earlier and IBM Java."})})]})}function s(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(r,{...n})}):r(n)}},85224:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>h,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var a=t(74848),i=t(28453),o=t(70878),r=t(50876);const s={id:"spring-boot",title:"Spring Boot",description:"The following provides the detailed guide on how to add Java Virtual Machine (JVM) options to integrate the WhaTap monitoring solution into Spring Boot applications. Through this document, users can learn step by step how to apply the required JVM settings to monitor the performance and availability of Spring Boot applications after installing the Java agent. It includes the configuration of essential JVM options during agent installation, optimal configuration for smooth integration with Spring Boot, and histogram query.",tags:["Java","Spring Boot","Application","Agent"]},l=void 0,c={id:"java/add-jvm-opt/spring-boot",title:"Spring Boot",description:"The following provides the detailed guide on how to add Java Virtual Machine (JVM) options to integrate the WhaTap monitoring solution into Spring Boot applications. Through this document, users can learn step by step how to apply the required JVM settings to monitor the performance and availability of Spring Boot applications after installing the Java agent. It includes the configuration of essential JVM options during agent installation, optimal configuration for smooth integration with Spring Boot, and histogram query.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/java/add-jvm-opt/spring-boot.mdx",sourceDirName:"java/add-jvm-opt",slug:"/java/add-jvm-opt/spring-boot",permalink:"/java/add-jvm-opt/spring-boot",draft:!1,unlisted:!1,editUrl:"undefined/docs/java/add-jvm-opt/spring-boot.mdx",tags:[{inline:!0,label:"Java",permalink:"/tags/java"},{inline:!0,label:"Spring Boot",permalink:"/tags/spring-boot"},{inline:!0,label:"Application",permalink:"/tags/application"},{inline:!0,label:"Agent",permalink:"/tags/agent"}],version:"current",frontMatter:{id:"spring-boot",title:"Spring Boot",description:"The following provides the detailed guide on how to add Java Virtual Machine (JVM) options to integrate the WhaTap monitoring solution into Spring Boot applications. Through this document, users can learn step by step how to apply the required JVM settings to monitor the performance and availability of Spring Boot applications after installing the Java agent. It includes the configuration of essential JVM options during agent installation, optimal configuration for smooth integration with Spring Boot, and histogram query.",tags:["Java","Spring Boot","Application","Agent"]},sidebar:"javaSidebar",previous:{title:"Jetty",permalink:"/java/add-jvm-opt/jetty"},next:{title:"Play2",permalink:"/java/add-jvm-opt/play2"}},h={},d=[{value:"Adding JVM options",id:"adding-jvm-options",level:2},{value:"Spring Boot 3",id:"spring-boot-3",level:2},{value:"Spring Boot version 3.0.0 or later",id:"spring-boot-version-300-or-later",level:3},{value:"Spring Boot 2",id:"spring-boot-2",level:2},{value:"Spring Boot version 2.7.0 or later",id:"spring-boot-version-270-or-later",level:3},{value:"Spring Boot version 2.5.0 or later",id:"spring-boot-version-250-or-later",level:3},...o.RM,...r.RM];function p(n){const e={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,i.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:"Check the method how to add JVM options in the application server environment using Spring Boot."}),"\n",(0,a.jsxs)(e.section,{className:"remark-sectionize-h2",children:[(0,a.jsx)(e.h2,{id:"adding-jvm-options",children:"Adding JVM options"}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"In case of Java 17 or later, the application can be started by adding JVM options related to the reflection."}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"# Only support Java 17 or later\njava -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Dwhatap.oname={Agent_Name} --add-opens=java.base/java.lang=ALL-UNNAMED -jar {application.jar}\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["For the JVM options in the startup script, add ",(0,a.jsx)(e.code,{children:"-javaagent"}),"."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -jar {application.jar}\n"})}),"\n"]}),"\n"]}),(0,a.jsx)(e.p,{children:"Add the JVM options and then proceed with the appropriate agent configuration according to the versions of Spring Boot and agents."})]}),"\n",(0,a.jsx)(e.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(e.h2,{id:"spring-boot-3",children:"Spring Boot 3"})}),"\n",(0,a.jsxs)(e.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(e.h3,{id:"spring-boot-version-300-or-later",children:"Spring Boot version 3.0.0 or later"}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.9 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.9.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-3.0\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.5 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.5.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-3.0,tomcat10\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.4 or earlier (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.4.jar"}),")"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.code,{children:"jakarta.servlet.http.HttpServlet"})," tracing (synchronization method)"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=tomcat10\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsx)(e.p,{children:"WebClient tracing (Asynchronization method)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=webflux-6.0\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,a.jsx)(e.section,{className:"remark-sectionize-h2",children:(0,a.jsx)(e.h2,{id:"spring-boot-2",children:"Spring Boot 2"})}),"\n",(0,a.jsxs)(e.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(e.h3,{id:"spring-boot-version-270-or-later",children:"Spring Boot version 2.7.0 or later"}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.9 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.9.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-2.7\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.5 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.5.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-2.7,tomcat9\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.4 or earlier (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.4.jar"}),")"]}),"\n",(0,a.jsx)(e.p,{children:"WebClient tracing (Asynchronization method)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=webflux-5.3\n"})}),"\n"]}),"\n"]})]}),"\n",(0,a.jsxs)(e.section,{className:"remark-sectionize-h3",children:[(0,a.jsx)(e.h3,{id:"spring-boot-version-250-or-later",children:"Spring Boot version 2.5.0 or later"}),(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.9 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.9.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-2.5\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.5 or later (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.5.jar"}),")"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-2.5,tomcat9\n"})}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["\n",(0,a.jsxs)(e.p,{children:["Java agent v2.2.4 or earlier (",(0,a.jsx)(e.em,{children:"whatap.agent-2.2.4.jar"}),")"]}),"\n",(0,a.jsx)(e.p,{children:"WebClient tracing (Asynchronization method)"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=webflux-5.3\n"})}),"\n"]}),"\n"]}),(0,a.jsx)(o.Ay,{}),(0,a.jsx)(r.Ay,{})]})]})}function g(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}},28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>s});var a=t(96540);const i={},o=a.createContext(i);function r(n){const e=a.useContext(o);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),a.createElement(o.Provider,{value:e},n.children)}}}]);