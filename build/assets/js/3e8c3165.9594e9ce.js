"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[66619],{50876:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>o});var t=a(74848),i=a(28453);const o=[{value:"Next steps",id:"next-steps",level:2}];function s(e){const n={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),(0,t.jsx)("div",{className:"nextstep",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Open source tracing"})}),"\n",(0,t.jsx)(n.p,{children:"Depending on the framework or open source library used in applications, you may need to add agent options. For example, when using spring-boot-3.x, feign-client-11, or okhttp3-4.4 with a framework or open source, set the options as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"weaving=spring-boot-3.0,feign-11,okhttp3-4.4\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For information on how to configure the framework or open source library that suits your application environment, see ",(0,t.jsx)(n.a,{href:"../agent-weaving",children:"the following"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Checking the installation"})}),"\n",(0,t.jsxs)(n.p,{children:["If you have created a project, installed an agent, and applied all JVM options, see the checklist in ",(0,t.jsx)(n.a,{href:"../install-check",children:"the following"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Installation troubleshooting"})}),"\n",(0,t.jsxs)(n.p,{children:["It provides various problems that may occur when installing the agent and specific instructions for resolving them. It provides solutions against various situations, including firewall configuration, SpringBoot and Tomcat JMX configuration, and server configuration using the OSGI framework. For more information, see ",(0,t.jsx)(n.a,{href:"../agent-troubleshooting",children:"the following"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Agent setting"})}),"\n",(0,t.jsxs)(n.p,{children:["It provides various features for monitoring by applying some options to the agent configuration file (",(0,t.jsx)(n.em,{children:"whatap.conf"}),"). It includes basic configuration, configuration for server connection and data transfer, how to manage the configuration files for multiple application servers, and transaction tracing, and more. For more information, see ",(0,t.jsx)(n.a,{href:"../set-agent",children:"the following"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Starting the monitoring"})}),"\n",(0,t.jsxs)(n.p,{children:["After all settings are made, restart the application server. The agent starts collecting data. First, check whether the monitoring data has been collected in ",(0,t.jsx)(a,{sid:"side_appDashboard",className:"uitext"}),". For more information about ",(0,t.jsx)(a,{sid:"side_appDashboard",className:"uitext"}),", see ",(0,t.jsx)(n.a,{href:"../dashboard",children:"the following"}),"."]}),"\n"]}),"\n"]})})]})}function r(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},55750:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>o});var t=a(74848),i=a(28453);const o=[];function s(e){const n={code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"In case of Java 17 or later, add the following options for reflection."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"\n--add-opens=java.base/java.lang=ALL-UNNAMED\n\n"})})]})}function r(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},93375:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>o});var t=a(74848),i=a(28453);const o=[];function s(e){const n={admonition:"admonition",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["In the ",(0,t.jsx)(n.strong,{children:"Platform as a Service"})," (",(0,t.jsx)(n.strong,{children:"PaaS)"})," environment, including the WhaTap agent settings, deployment is performed to the target application."]})})}function r(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},70878:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>o});var t=a(74848),i=a(28453);const o=[{value:"Viewing the heap histogram",id:"viewing-the-heap-histogram",level:2}];function s(e){const n={admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:a}=n;return a||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"viewing-the-heap-histogram",children:"Viewing the heap histogram"}),(0,t.jsxs)(n.p,{children:["WhaTap's Java Monitoring provides the function to view the status of heap occupancy objects in the JVM memory (sizes for each object in heap memory). In ",(0,t.jsx)(a,{sid:"app_upper",className:"uitext"})," > ",(0,t.jsx)(a,{sid:"instance_performance_analysis",className:"uitext"}),", select the ",(0,t.jsx)(a,{sid:"heap_histogram",className:"uitext"})," tab."]}),(0,t.jsx)(n.p,{children:"Java versions 6 to 8 support basic functions without the JVM options. However, for some Java versions, the JVM options must be applied as follows:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Java 9 to Java 15"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"-Djdk.attach.allowAttachSelf=true\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="example"',children:"java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true -jar {application.jar}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Java 16 or later"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"-Djdk.attach.allowAttachSelf=true\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="example"',children:"java -javaagent:{WHATAP_HOME}/whatap.agent-X.Y.Z.jar -Djdk.attach.allowAttachSelf=true --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED -jar {application.jar}\n"})}),"\n"]}),"\n"]}),(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"It does not support Java 5 or earlier and IBM Java."})})]})}function r(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},85567:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>h,default:()=>u,frontMatter:()=>c,metadata:()=>p,toc:()=>m});var t=a(74848),i=a(28453),o=a(93375),s=a(55750),r=a(70878),l=a(50876);const c={id:"ibm-bluemix",title:"IBM BlueMix",description:"The following explains users who run Java applications on the IBM Bluemix cloud platform on how to set JVM options to effectively apply WhaTap's Java monitoring agent. Through this document, users can check step by step the processes of installing WhaTap's Java agent in the IBM Bluemix environment, configuring the agent, and adding the required JVM options. Additionally, it includes the histogram query method.",tags:["Java","IBM Bluemix","Application","Agent"]},h=void 0,p={id:"java/add-jvm-opt/ibm-bluemix",title:"IBM BlueMix",description:"The following explains users who run Java applications on the IBM Bluemix cloud platform on how to set JVM options to effectively apply WhaTap's Java monitoring agent. Through this document, users can check step by step the processes of installing WhaTap's Java agent in the IBM Bluemix environment, configuring the agent, and adding the required JVM options. Additionally, it includes the histogram query method.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/java/add-jvm-opt/ibm-bluemix.mdx",sourceDirName:"java/add-jvm-opt",slug:"/java/add-jvm-opt/ibm-bluemix",permalink:"/java/add-jvm-opt/ibm-bluemix",draft:!1,unlisted:!1,editUrl:"undefined/docs/java/add-jvm-opt/ibm-bluemix.mdx",tags:[{inline:!0,label:"Java",permalink:"/tags/java"},{inline:!0,label:"IBM Bluemix",permalink:"/tags/ibm-bluemix"},{inline:!0,label:"Application",permalink:"/tags/application"},{inline:!0,label:"Agent",permalink:"/tags/agent"}],version:"current",frontMatter:{id:"ibm-bluemix",title:"IBM BlueMix",description:"The following explains users who run Java applications on the IBM Bluemix cloud platform on how to set JVM options to effectively apply WhaTap's Java monitoring agent. Through this document, users can check step by step the processes of installing WhaTap's Java agent in the IBM Bluemix environment, configuring the agent, and adding the required JVM options. Additionally, it includes the histogram query method.",tags:["Java","IBM Bluemix","Application","Agent"]},sidebar:"javaSidebar",previous:{title:"Play2",permalink:"/java/add-jvm-opt/play2"},next:{title:"Elastic Beanstalk",permalink:"/java/add-jvm-opt/elastic-beanstalk"}},d={},m=[{value:"Applying the agent",id:"applying-the-agent",level:2},...o.RM,...s.RM,...r.RM,...l.RM];function g(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"applying-the-agent",children:"Applying the agent"}),(0,t.jsxs)(n.p,{children:["The following explains how to apply the WhaTap agent when deploying with ",(0,t.jsx)(n.strong,{children:"IBM BlueMix"}),"."]}),(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://console.bluemix.net/docs/apps/index.html%E2%80%8B",children:"IBM BlueMix"})," provides the ",(0,t.jsx)(n.strong,{children:"WebSphere Liberty"})," environment with the container. ",(0,t.jsx)(n.strong,{children:"Liberty"})," is a lightweight environment different from ",(0,t.jsx)(n.strong,{children:"WebSphere Application Server"}),", and it is similar to how ",(0,t.jsx)(n.strong,{children:"Spring Boot"})," works."]}),(0,t.jsx)(o.Ay,{}),(0,t.jsxs)(n.p,{children:["The following is an example of the configuration environment. These files are created in the local development environment when configuring the environment according to ",(0,t.jsx)(n.a,{href:"https://cloud.ibm.com/docs",children:"Guide"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"whatap@vmwas01:/apps/bluemix/java-helloworld$ ls -alrt\nTotal 64\ndrwxrwxr-x 3 whatap whatap  4096 10/29 13:13 ..\n-rw-rw-r-- 1 whatap whatap  1079 10/29 13:13 .classpath\n-rw-rw-r-- 1 whatap whatap  1184 10/29 13:13 .project\n-rw-rw-r-- 1 whatap whatap    39 10/29 13:13 .gitignore\n-rw-rw-r-- 1 whatap whatap   151 10/29 13:13 CONTRIBUTING.md\ndrwxrwxr-x 2 whatap whatap  4096 10/29 13:13 .settings\n-rw-rw-r-- 1 whatap whatap  2823 10/29 13:13 pom.xml\n-rw-rw-r-- 1 whatap whatap   122 10/29 13:13 manifest.yml\n-rw-rw-r-- 1 whatap whatap  3522 10/29 13:13 README.md\n-rw-rw-r-- 1 whatap whatap 11323 10/29 13:13 LICENSE\ndrwxrwxr-x 3 whatap whatap  4096 10/29 13:13 src\ndrwxrwxr-x 2 whatap whatap  4096 10/29 13:13 target\ndrwxrwxr-x 8 whatap whatap  4096 10/29 13:13 .git\ndrwxrwxr-x 6 whatap whatap  4096 10/29 15:26 .\n"})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.code,{children:"${APP_HOME}"}),", create the ",(0,t.jsx)(n.em,{children:"src/main/resources/whatap-agent/"})," directory and then copy jar files and conf files."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"$ mkdir -p src/main/resources/whatap-agent/\n$ cp /apps/whatap/whatap.agent.tracer-1.5.4.jar src/main/resources/whatap-agent/\n$ cp /apps/whatap/whatap.conf src/main/resources/whatap-agent/\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Add options in the ",(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.code,{children:"${APP_HOME}"}),"/manifest.yml"]})," file. Because it is a yml file, write it with according to spacing and indentation standards."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",metastring:"title=${APP_HOME}/manifest.yml {8-9} showLineNumbers",children:'---\napplications:\n- name: sample-java-helloworld\nrandom-route: true\nmemory: 256M\npath: target/JavaHelloWorldApp.war\n# Add from here.\nenv:\n    JAVA_OPTS: "-javaagent:/{APPLICATION_DIR}/WEB-INF/classes/whatap-agent/whatap.agent-X.Y.Z.jar -Dorg.osgi.framework.bootdelegation=whatap.* "\n'})}),"\n"]}),"\n"]}),(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(s.Ay,{})}),(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.em,{children:"whatap.conf"})," configuration is applied the same as in non-PaaS environments. Because it may be difficult to identify the agent name after application, apply the agent name that suits the situation."]}),"\n",(0,t.jsxs)(n.li,{children:["For more information about the agent naming, see ",(0,t.jsx)(n.a,{href:"../agent-name",children:"the following"}),"."]}),"\n"]})}),(0,t.jsx)(r.Ay,{}),(0,t.jsx)(l.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>r});var t=a(96540);const i={},o=t.createContext(i);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);