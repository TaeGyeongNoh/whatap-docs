"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[20873],{64218:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>o});var s=t(74848),i=t(28453);const o=[{value:"Duplicate agent names (ONAME) impossible to be used",id:"duplicate-agent-names-oname-impossible-to-be-used",level:3}];function r(e){const n={a:"a",h3:"h3",li:"li",p:"p",section:"section",ul:"ul",...(0,i.R)(),...e.components},{InDoc:t,Xclude:o}=n;return t||l("InDoc",!0),o||l("Xclude",!0),(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"duplicate-agent-names-oname-impossible-to-be-used",children:"Duplicate agent names (ONAME) impossible to be used"}),(0,s.jsx)(n.p,{children:"WhaTap DBX monitoring uses the agent's IP address and port to identify the agent. If the database server to be monitored in the user environment uses the same IP and port, the WhaTap server cannot identify the server instance."}),(0,s.jsx)(o,{product:"oracle-pro",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If the server instance is not dynamically expanded, you can bypass it by manually setting a name for database identification by seeing ",(0,s.jsx)(n.a,{href:"agent-dbx-settings#naming",children:"the following"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If the databases to be monitored use internal addresses or duplicate IPs due to network virtualization, use separate database naming patterns by seeing ",(0,s.jsx)(n.a,{href:"agent-dbx-settings#naming",children:"the following"}),"."]}),"\n"]}),"\n"]})}),(0,s.jsx)(t,{product:"oracle-pro",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If the server instance is not dynamically expanded, you can bypass it by manually setting a name for database identification by seeing ",(0,s.jsx)(n.a,{href:"agent-settings#naming",children:"the following"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["If the databases to be monitored use internal addresses or duplicate IPs due to network virtualization, use separate database naming patterns by seeing ",(0,s.jsx)(n.a,{href:"agent-settings#naming",children:"the following"}),"."]}),"\n"]}),"\n"]})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}function l(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},19456:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>o});var s=t(74848),i=t(28453);const o=[{value:"Firewall configuration checking",id:"firewall-configuration-checking",level:2}];function r(e){const n={h2:"h2",p:"p",section:"section",...(0,i.R)(),...e.components};return(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"firewall-configuration-checking",children:"Firewall configuration checking"}),(0,s.jsx)(n.p,{children:"Unblock your firewall. Monitoring data cannot be sent to the server if the TCP outbound firewall is set for the WhaTap server."})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},64850:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>o});var s=t(74848),i=t(28453);const o=[{value:"How to check the firewall",id:"how-to-check-the-firewall",level:3}];function r(e){const n={admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",section:"section",...(0,i.R)(),...e.components},{Cmdname:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"how-to-check-the-firewall",children:"How to check the firewall"}),(0,s.jsxs)(n.p,{children:["It is normal only when the following connection-related information appears after executing the ",(0,s.jsx)(n.code,{children:"telnet"})," command. (",(0,s.jsx)(n.code,{children:"telnet [Server IP] [Server Port]"}),")"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",metastring:"title='Example'",children:"$ telnet 52.193.60.176 6600\nTrying 52.193.60.176...\nConnected to 52.193.60.176.\nEscape character is '^]'.\n"})}),(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The WhaTap collection server data can be found in ",(0,s.jsx)(t,{sid:"side_management",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"agent_installation",className:"uitext"}),"."]})})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},49210:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>o});var s=t(74848),i=t(28453);const o=[{value:"Multiple regions impossible to be selected as a single project",id:"multiple-regions-impossible-to-be-selected-as-a-single-project",level:3}];function r(e){const n={a:"a",h3:"h3",li:"li",p:"p",section:"section",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"multiple-regions-impossible-to-be-selected-as-a-single-project",children:"Multiple regions impossible to be selected as a single project"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the ",(0,s.jsx)(n.a,{href:"https://services.whatap.io",children:"WhaTap monitoring service"})," website, when creating a project, you cannot select multiple regions. When using multiple regions, create separate projects."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If servers exist in multiple regions as in the cloud environment, the collection servers must be located in each region to avoid constraints on the performance data collection such as network latency."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"WhaTap builds collection servers for each region to meet customer requirements."}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},69602:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>h,toc:()=>p});var s=t(74848),i=t(28453),o=t(19456),r=t(64850),a=t(49210),l=t(64218);const c={id:"troubleshooting",title:"Troubleshooting",description:"You can check the problems that may occur during database agent installation.",tags:["PostgreSQL","Database","Troubleshooting","Agent"]},d=void 0,h={id:"postgresql/troubleshooting",title:"Troubleshooting",description:"You can check the problems that may occur during database agent installation.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/postgresql/troubleshooting.mdx",sourceDirName:"postgresql",slug:"/postgresql/troubleshooting",permalink:"/postgresql/troubleshooting",draft:!1,unlisted:!1,editUrl:"undefined/docs/postgresql/troubleshooting.mdx",tags:[{inline:!0,label:"PostgreSQL",permalink:"/tags/postgre-sql"},{inline:!0,label:"Database",permalink:"/tags/database"},{inline:!0,label:"Troubleshooting",permalink:"/tags/troubleshooting"},{inline:!0,label:"Agent",permalink:"/tags/agent"}],version:"current",frontMatter:{id:"troubleshooting",title:"Troubleshooting",description:"You can check the problems that may occur during database agent installation.",tags:["PostgreSQL","Database","Troubleshooting","Agent"]},sidebar:"postgreSidebar",previous:{title:"Installation checking items",permalink:"/postgresql/after-install-agent"},next:{title:"Configuration",permalink:"/postgresql/agent-settings"}},x={},p=[...o.RM,...r.RM,{value:"Constraints",id:"constraints",level:2},...a.RM,...l.RM,{value:"DB roles and agent configuration",id:"db-roles-and-agent-configuration",level:2}];function u(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",p:"p",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components},{Cmdname:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Cmdname",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Check for possible problems upon database agent installation."}),"\n","\n",(0,s.jsx)(o.Ay,{}),"\n","\n",(0,s.jsx)(r.Ay,{}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"constraints",children:"Constraints"}),(0,s.jsx)(a.Ay,{}),(0,s.jsx)(l.Ay,{})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"db-roles-and-agent-configuration",children:"DB roles and agent configuration"}),(0,s.jsx)(n.p,{children:"There are menus where data is not viewed depending on the DB roles and agent configuration. See the following to assign the required roles and set the agent options."}),(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Example shows a monitoring account creation as ",(0,s.jsx)(n.code,{children:"whatap"}),": ",(0,s.jsx)(n.code,{children:"create user whatap with password \u2018DBPassword\u2019;"})]})}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Menu"}),(0,s.jsx)(n.th,{children:"DB options and roles"}),(0,s.jsx)(n.th,{children:"Agent CONFIG."}),(0,s.jsx)(n.th,{children:"Remarks"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Basic menu"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"grant pg_monitor to whatap;"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"PostgreSQL V2, DBX agent v1.6.15 or later"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(t,{sid:"dashboard",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"slow_query",className:"uitext"})]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.strong,{children:"DB parameter"}),":",(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"log_min_duration_statement=500"}),(0,s.jsx)("br",{})," (e.g. SQL records taking 500 ms or more)",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(n.strong,{children:"DB role"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"grant PG_READ_ALL_SETTINGS to whatap;"})]}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"xos.conf"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"slow_query_interval=30"})," (Default 30 seconds)",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(n.em,{children:"whatap.conf"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"slow_query_log=ON"})]}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(t,{sid:"instance_monitoring",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"session_kill",className:"uitext"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"grant pg_signal_backend to whatap"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"-"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(t,{sid:"analysis",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"TTL07249",className:"uitext"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"grant select on all tables in schema {schema_name} to whatap;"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"whatap.conf"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"pg_object=true"})]}),(0,s.jsxs)(n.td,{children:["DBX agent v1.6.15 or later",(0,s.jsx)("br",{}),"The lists in the ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"Bloating"})})," and ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"Age"})})," tabs may not be viewed when the thresholds (size, ratio) are not exceeded even if the roles and agent options have been configured."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(t,{sid:"reportStat",className:"uitext"})," > ",(0,s.jsx)(t,{sid:"db_size_increase",className:"uitext"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"grant usage on schema {schema_name} to whatap;"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"whatap.conf"}),(0,s.jsx)("br",{}),(0,s.jsx)(n.code,{children:"tables=true"})]}),(0,s.jsxs)(n.td,{children:["It is the role required to view the table size under the ",(0,s.jsx)(t,{sid:"db_size_increase",className:"uitext"})," menu."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:["Object information (",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"Object detail"})}),") modal window"]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"grant select on all tables in schema {schema_name} to whatap;"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:["Pop-up window that appears when the table is clicked in ",(0,s.jsx)(t,{sid:"TTL07249",className:"uitext"}),", ",(0,s.jsx)(t,{sid:"db_size_increase",className:"uitext"}),", and ",(0,s.jsx)(t,{sid:"TTL06224",className:"uitext"})," (Plan). With no role, the column list does not appear."]})]})]})]})]})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);