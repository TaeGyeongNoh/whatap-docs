"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[97673],{43814:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>o});var s=n(74848),i=n(28453);const r={id:"changes-db-xos-metrics-guide",title:"XOS2 metric disposal notification",description:"In the database monitoring, two CPU metrics provided through the XOS agent are to be integrated and provided starting from DBX agent v1.7.0.",tags:["Database","XOS agent"],displayed_sidebar:"dbSidebar"},c=void 0,d={id:"reference/changes-db-xos-metrics-guide",title:"XOS2 metric disposal notification",description:"In the database monitoring, two CPU metrics provided through the XOS agent are to be integrated and provided starting from DBX agent v1.7.0.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/reference/changes-db-xos-metrics.mdx",sourceDirName:"reference",slug:"/reference/changes-db-xos-metrics-guide",permalink:"/reference/changes-db-xos-metrics-guide",draft:!1,unlisted:!1,editUrl:"undefined/docs/reference/changes-db-xos-metrics.mdx",tags:[{inline:!0,label:"Database",permalink:"/tags/database"},{inline:!0,label:"XOS agent",permalink:"/tags/xos-agent"}],version:"current",frontMatter:{id:"changes-db-xos-metrics-guide",title:"XOS2 metric disposal notification",description:"In the database monitoring, two CPU metrics provided through the XOS agent are to be integrated and provided starting from DBX agent v1.7.0.",tags:["Database","XOS agent"],displayed_sidebar:"dbSidebar"},sidebar:"dbSidebar"},a={},o=[{value:"Changes in the XOS metric",id:"changes-in-the-xos-metric",level:2},{value:"Updating the DBX agent",id:"updating-the-dbx-agent",level:2},{value:"Checking the changed metrics",id:"checking-the-changed-metrics",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",p:"p",section:"section",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Cmdname:r,ImgLang:c,Link:d}=t;return r||x("Cmdname",!0),c||x("ImgLang",!0),d||x("Link",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"By installing the XOS agent on your database server, you can monitor the status of the server's resources. For the collected key metrics, see the following documents:"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Check the ",(0,s.jsx)(d,{to:"https://docs.whatap.io/postgresql/instance-monitoring#column-info",target:"_blank",children:(0,s.jsx)(r,{sid:"instance_monitoring"})})," - ",(0,s.jsx)("b",{children:"Process information"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Metrics of the ",(0,s.jsx)(d,{to:"https://docs.whatap.io/postgresql/metrics-data-list",target:"_blank",children:"Indicators"})," - ",(0,s.jsx)("b",{children:"XOS"})," category"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(t.h2,{id:"changes-in-the-xos-metric",children:"Changes in the XOS metric"}),(0,s.jsxs)(t.p,{children:["Database monitoring provides two metrics for CPU usage: ",(0,s.jsx)(t.code,{children:"CPU(xos)"})," and ",(0,s.jsx)(t.code,{children:"CPU(xos2)"}),". In DBX agent 1.7.0 or later, both metrics are to be integrated into one."]}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Metric name before change"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Metric name after change"}),(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Unit"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,s.jsx)(t.code,{children:"cpu(xos2)"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"cpu(xos)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.code,{children:"cpu(xos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Utilization (%)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,s.jsx)(t.code,{children:"cpu_idle(xos2)"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"cpu_idle(xos)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.code,{children:"cpu_idle(xos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"%"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,s.jsx)(t.code,{children:"cpu_sys(xos2)"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"cpu_sys(xos)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.code,{children:"cpu_sys(xos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"%"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,s.jsx)(t.code,{children:"cpu_user(xos2)"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"cpu_user(xos)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.code,{children:"cpu_user(xos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"%"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsxs)(t.td,{style:{textAlign:"center"},children:[(0,s.jsx)(t.code,{children:"cpu_iowait(xos2)"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"cpu_iowait(xos)"})]}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:(0,s.jsx)(t.code,{children:"cpu_iowait(xos)"})}),(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"%"})]})]})]}),(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["In DBX agent 1.7.0 or earlier, if the value of the ",(0,s.jsx)(t.code,{children:"cpu(xos)"})," metric is 9000, the value of the ",(0,s.jsx)(t.code,{children:"cpu(xos2)"})," metric has been collected as 90."]})}),(0,s.jsxs)(t.p,{children:["After updating the DBX agent to version 1.7.0, if you have configured alert notifications or configured a dashboard with existing metrics, change the metrics settings. The threshold values set in ",(0,s.jsx)(r,{sid:"event_statistic",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"event_setting",className:"uitext"})," are automatically converted. Among the alert notifications you have configured, check whether the notifications using the above five metrics have been converted properly. See the following:"]})]}),"\n",(0,s.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(t.h2,{id:"updating-the-dbx-agent",children:"Updating the DBX agent"}),(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(r,{sid:"management",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"agent_update",className:"uitext"}),", update the agent 1.7.0 or earlier."]}),(0,s.jsx)(c,{img:"changes/refer-db-agent-update-170.png",desc:"Update agent"}),(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["For more information about the agent update, see ",(0,s.jsx)(t.a,{href:"../postgresql/agent-manage",children:"the following"}),"."]})})]}),"\n",(0,s.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(t.h2,{id:"checking-the-changed-metrics",children:"Checking the changed metrics"}),(0,s.jsxs)(t.p,{children:["After updating the DBX agent, check whether the ",(0,s.jsx)(t.code,{children:"cpu(xos2)"})," metric has been changed to ",(0,s.jsx)(t.code,{children:"cpu(xos)"})," under the ",(0,s.jsx)(r,{sid:"database",className:"uitext"})," tab in ",(0,s.jsx)(r,{sid:"event_statistic",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"event_setting",className:"uitext"}),"."]}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Before update of the DBX agent"})}),"\n",(0,s.jsx)(c,{img:"changes/refer-db-alert-xos2.png",desc:"Event configuration"}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"After updating the DBX agent"})}),"\n",(0,s.jsx)(c,{img:"changes/refer-db-alert-xos.png",desc:"Event configuration"}),"\n"]}),"\n"]}),(0,s.jsxs)(t.admonition,{type:"tip",children:[(0,s.jsx)(t.p,{children:"The user-configured metrics notifications and dashboard settings must be modified manually."}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(r,{sid:"event_statistic",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"event_setting",className:"uitext"}),", under the ",(0,s.jsx)(r,{sid:"metrics",className:"uitext"})," tab, change the event set to ",(0,s.jsx)("code",{children:"cpu(xos2)"})," to ",(0,s.jsx)("code",{children:"cpu(xos)"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["In the following menu path, check whether there are any settings that need to be changed from ",(0,s.jsx)(t.code,{children:"cpu(xos2)"})," to ",(0,s.jsx)(t.code,{children:"cpu(xos)"}),"."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(r,{sid:"dashboard",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"instance_monitoring",className:"uitext"})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(r,{sid:"dashboard",className:"uitext"})," > ",(0,s.jsx)(r,{sid:"flexboard",className:"uitext"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["If the metric, ",(0,s.jsx)(t.code,{children:"cpu(xos)"})," on the dashboard appears differently from the previous after the regular service release in March (2024.3.27 18:00), update the DBX agent to version 1.7.0 or later. For more information about the agent update, see ",(0,s.jsx)(t.a,{href:"../postgresql/agent-manage",children:"the following"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["If you need any help, contact us through the ",(0,s.jsx)(t.img,{alt:"Chat Contact icon",src:n(18389).A+"",width:"24",height:"24"})," ",(0,s.jsx)(t.strong,{children:"Chat Contact"})," at the upper right of the ",(0,s.jsx)(t.a,{href:"https://service.whatap.io",children:"Whatap Monitoring Service"})," screen."]}),"\n"]}),"\n"]})})]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}function x(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},18389:(e,t,n)=>{n.d(t,{A:()=>s});const s="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKICAgIGQ9Ik0yIDEyQzIgNi40NzcgNi40NzggMiAxMiAyczEwIDQuNDc3IDEwIDEwYTkuOTUyIDkuOTUyIDAgMDEtMS43NDQgNS42NEwyMiAyMmwtNC4zNi0xLjc0NEE5Ljk1MiA5Ljk1MiAwIDAxMTIgMjJDNi40NzggMjIgMiAxNy41MjMgMiAxMnoiCiAgICBmaWxsPSIjMjk2Q0YyIiAvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIgogICAgZD0iTTkgMTIuNWExLjUgMS41IDAgMTEtMyAwIDEuNSAxLjUgMCAwMTMgMHptNC41IDBhMS41IDEuNSAwIDExLTMgMCAxLjUgMS41IDAgMDEzIDB6bTMgMS41YTEuNSAxLjUgMCAxMDAtMyAxLjUgMS41IDAgMDAwIDN6IgogICAgZmlsbD0iI2ZmZiIgLz4KPC9zdmc+"},28453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>d});var s=n(96540);const i={},r=s.createContext(i);function c(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);