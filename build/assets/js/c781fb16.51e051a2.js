"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[1393],{82748:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>h});var s=t(74848),l=t(28453);const i={id:"uninstall-agent",title:"Agent deletion",description:"It provides the method how to delete the Kubernetes agent.",tags:["Kubernetes","Kubernetes Monitoring","Management","Agent","Agent deletion"],toc_max_heading_level:3},a=void 0,r={id:"kubernetes/uninstall-agent",title:"Agent deletion",description:"It provides the method how to delete the Kubernetes agent.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/kubernetes/uninstall-agent.mdx",sourceDirName:"kubernetes",slug:"/kubernetes/uninstall-agent",permalink:"/kubernetes/uninstall-agent",draft:!1,unlisted:!1,editUrl:"undefined/docs/kubernetes/uninstall-agent.mdx",tags:[{inline:!0,label:"Kubernetes",permalink:"/tags/kubernetes"},{inline:!0,label:"Kubernetes Monitoring",permalink:"/tags/kubernetes-monitoring"},{inline:!0,label:"Management",permalink:"/tags/management"},{inline:!0,label:"Agent",permalink:"/tags/agent"},{inline:!0,label:"Agent deletion",permalink:"/tags/agent-deletion"}],version:"current",frontMatter:{id:"uninstall-agent",title:"Agent deletion",description:"It provides the method how to delete the Kubernetes agent.",tags:["Kubernetes","Kubernetes Monitoring","Management","Agent","Agent deletion"],toc_max_heading_level:3},sidebar:"kubeSidebar",previous:{title:"Agent Update",permalink:"/kubernetes/agent-update"},next:{title:"Learn about the main features",permalink:"/kubernetes/learn-kubernetes-main-menu"}},d={},h=[{value:"Deleting the Kubernetes agent",id:"deleting-the-kubernetes-agent",level:2},{value:"YAML file name of the Kubernetes agent",id:"yaml-file-name-of-the-kubernetes-agent",level:4},{value:"In case the YAML file exists",id:"in-case-the-yaml-file-exists",level:3},{value:"In case the YAML file does not exist",id:"in-case-the-yaml-file-does-not-exist",level:3},{value:"Uninstalling the agent upon installation based on the Helm chart",id:"uninstall-agent-helm-chart",level:3}];function c(e){const n={admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",section:"section",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"deleting-the-kubernetes-agent",children:"Deleting the Kubernetes agent"}),(0,s.jsxs)(n.p,{children:["In the agent installation procedure, check the ",(0,s.jsx)(n.em,{children:"YAML"})," file name that matches the downloaded Kubernetes version and Container Runtime, and then proceed with the procedure to delete the Kubernetes agent."]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h4",children:[(0,s.jsx)(n.h4,{id:"yaml-file-name-of-the-kubernetes-agent",children:"YAML file name of the Kubernetes agent"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Docker"}),(0,s.jsx)(n.th,{children:"YAML file name"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_1.16.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_1.16_gpu.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16 (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_gpu.yaml"})})]})]})]}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Containerd"}),(0,s.jsx)(n.th,{children:"YAML file name"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_containerd_1.16.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_containerd_1.16_gpu.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_containerd.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16 (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_containerd_gpu.yaml"})})]})]})]}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"CRIO\tYAML"}),(0,s.jsx)(n.th,{children:"File name"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_crio_1.16.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Kubernetes 1.16 or later (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_crio_1.16_gpu.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_crio.yaml"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Below Kubernetes 1.16 (GPU version)"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"whatap_kube_crio_gpu.yaml"})})]})]})]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-the-yaml-file-exists",children:"In case the YAML file exists"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Delete the Kubernetes agent installed with the ",(0,s.jsx)(n.em,{children:"YAML"})," file name downloaded during the installation procedure. Modify the notation of the following command to your ",(0,s.jsx)(n.em,{children:"YAML"})," file name, and then run it."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete -f < user's own YAML file name >\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the Kubernetes agent has been deleted successfully, you can see the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'namespace "whatap-monitoring" deleted\nserviceaccount "whatap" deleted\nclusterrole.rbac.authorization.k8s.io "whatap" deleted\nconfigmap "node-start-script" deleted\nclusterrolebinding.rbac.authorization.k8s.io "whatap" deleted\ndaemonset.apps "whatap-node-agent" deleted\nconfigmap "master-start-script" deleted\ndeployment.apps "whatap-master-agent" deleted\nservice "whatap-master-agent" deleted\n'})}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"in-case-the-yaml-file-does-not-exist",children:"In case the YAML file does not exist"}),(0,s.jsxs)(n.admonition,{type:"caution",children:[(0,s.jsx)(n.mdxAdmonitionTitle,{}),(0,s.jsx)(n.p,{children:"If you have created custom resources directly in the whatap-monitoring namespace, those resources are deleted also."})]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Execute the following command to delete the Kubernetes agent."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"kubectl delete namespace whatap-monitoring\nkubectl delete clusterrolebinding whatap\nkubectl delete clusterrole whatap\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the Kubernetes agent has been deleted successfully, you can see the following:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'namespace "whatap-monitoring" deleted\nclusterrolebinding.rbac.authorization.k8s.io "whatap" deleted\nclusterrole.rbac.authorization.k8s.io "whatap" deleted\n'})}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"uninstall-agent-helm-chart",children:"Uninstalling the agent upon installation based on the Helm chart"}),(0,s.jsx)(n.p,{children:"Execute the following command to uninstall the WhaTap Kubernetes agent application."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Uninstall release\nhelm uninstall whatap-kube-agent\n"})})]})]})}function o(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var s=t(96540);const l={},i=s.createContext(l);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);