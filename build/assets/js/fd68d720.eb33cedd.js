"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[16046],{43625:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>i});var s=t(74848),c=t(28453);const i=[{value:"Linear collection",id:"linear-collection",level:2},{value:"Circular collection",id:"circular-collection",level:2}];function o(e){const n={code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The application monitoring agent provides linear and circular collection methods."}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"linear-collection",children:"Linear collection"}),(0,s.jsx)(n.p,{children:"Individual transaction traces cannot collect steps indefinitely. Store trace steps in buffers of limited length for each transaction. For each transaction, the maximum number of steps that can be collected is specified as an option."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"profile_step_max_count"})}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"1024"})]}),"\n",(0,s.jsx)(n.p,{children:"Maximum number of steps that can be collected."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"profile_step_normal_count"})}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"800"})]}),"\n",(0,s.jsx)(n.p,{children:"Number of steps that are generally collected without any restrictions."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"profile_step_heavy_count"})}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"1000"})]}),"\n",(0,s.jsx)(n.p,{children:"If the normal count is exceeded, only the steps with slow response time and the active stack steps are collected."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"profile_step_heavy_time"})}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"100"})]}),"\n",(0,s.jsxs)(n.p,{children:["The reference time to collect steps within heavy count is ",(0,s.jsx)(n.code,{children:"profile_step_heavy_time"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://img.whatap.io/media/agent_java/data/step_buffer.png",alt:"step_buffer"})}),"\n",(0,s.jsxs)(n.p,{children:["If the number of steps in the profile being collected exceeds the heavy count, only active stacks are collected. Even in this case, the maximum number of steps does not exceed ",(0,s.jsx)(n.code,{children:"profile_step_max_count"}),"."]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"circular-collection",children:"Circular collection"}),(0,s.jsx)(n.p,{children:"Linear collection collects the front part of the trace and discards the later part, if it exceeds the buffer size. On the other hand, circular collection discards the front step."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"circular_profile_enabled=true\n"})}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://img.whatap.io/media/agent_java/data/circular_profile.png",alt:"circular_profile"})}),(0,s.jsxs)(n.p,{children:["The buffer size is set in ",(0,s.jsx)(n.code,{children:"profile_step_max_count"}),"."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"profile_step_max_count=1024\n"})})]})]})}function l(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},76435:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var s=t(74848),c=t(28453),i=t(43625);const o={id:"collect-stacks",title:"Transaction step collection method",description:"It guides you to the transaction step collection method.",tags:["Node.js","Transactions","Transaction Step"]},l=void 0,r={id:"nodejs/collect-stacks",title:"Transaction step collection method",description:"It guides you to the transaction step collection method.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/nodejs/collect-stacks.mdx",sourceDirName:"nodejs",slug:"/nodejs/collect-stacks",permalink:"/nodejs/collect-stacks",draft:!1,unlisted:!1,editUrl:"undefined/docs/nodejs/collect-stacks.mdx",tags:[{inline:!0,label:"Node.js",permalink:"/tags/node-js"},{inline:!0,label:"Transactions",permalink:"/tags/transactions"},{inline:!0,label:"Transaction Step",permalink:"/tags/transaction-step"}],version:"current",frontMatter:{id:"collect-stacks",title:"Transaction step collection method",description:"It guides you to the transaction step collection method.",tags:["Node.js","Transactions","Transaction Step"]},sidebar:"nodejsSidebar",previous:{title:"Setting the transaction endpoint",permalink:"/nodejs/trs-endpoint-setting"},next:{title:"Topology",permalink:"/nodejs/topology"}},a={},d=[...i.RM];function p(e){return(0,s.jsx)(i.Ay,{})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p()}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var s=t(96540);const c={},i=s.createContext(c);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);