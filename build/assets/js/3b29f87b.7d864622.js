"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[38918],{16102:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var t=s(74848),i=s(28453);const r={id:"set-db-metric-warning-notice",title:"Setting the DB metrics alert",description:"It explains how to configure a metrics alert for database products.",tags:["Database","Metrics","Alert"],displayed_sidebar:"learningSidebar"},c=void 0,o={id:"best-practice-guides/set-db-metric-warning-notice",title:"Setting the DB metrics alert",description:"It explains how to configure a metrics alert for database products.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/best-practice-guides/set-db-metric-warning-notice.mdx",sourceDirName:"best-practice-guides",slug:"/best-practice-guides/set-db-metric-warning-notice",permalink:"/best-practice-guides/set-db-metric-warning-notice",draft:!1,unlisted:!1,editUrl:"undefined/docs/best-practice-guides/set-db-metric-warning-notice.mdx",tags:[{inline:!0,label:"Database",permalink:"/tags/database"},{inline:!0,label:"Metrics",permalink:"/tags/metrics"},{inline:!0,label:"Alert",permalink:"/tags/alert"}],version:"current",frontMatter:{id:"set-db-metric-warning-notice",title:"Setting the DB metrics alert",description:"It explains how to configure a metrics alert for database products.",tags:["Database","Metrics","Alert"],displayed_sidebar:"learningSidebar"},sidebar:"learningSidebar",previous:{title:"\ud799 \uba54\ubaa8\ub9ac \uba54\ud2b8\ub9ad\uc2a4",permalink:"/best-practice-guides/about-apm-heap-memory"},next:{title:"\uc778\uc2a4\ud134\uc2a4 \uc131\ub2a5 \uad00\ub9ac \ud65c\uc6a9",permalink:"/best-practice-guides/about-instance-performance-analysis"}},a={},l=[{value:"Configuring the process alert",id:"configuring-the-process-alert",level:2},{value:"XOS agent configuration",id:"xos-agent-configuration",level:3},{value:"Adding the metrics event",id:"adding-the-metrics-event",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{ImgLang:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ImgLang",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The following explains how to configure a metrics alert for database projects. You can set alerts based on the key metrics relating the database performance and quickly recognize potential problems."}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,t.jsx)(n.h2,{id:"configuring-the-process-alert",children:"Configuring the process alert"}),(0,t.jsx)(n.p,{children:"While running databases, their processes may terminate unexpectedly. When any process running on the database is terminated, an alert is sent to users to quickly respond to the problem."})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"xos-agent-configuration",children:"XOS agent configuration"}),(0,t.jsxs)(n.p,{children:["Before adding a metrics event, add the following options in the XOS agent configuration file (",(0,t.jsx)(n.em,{children:"xos.conf"}),"). The following example shows how to set the ",(0,t.jsx)(n.strong,{children:"top"})," and ",(0,t.jsx)(n.strong,{children:"lock.sh"})," processes as monitoring targets. Multiple processes can be registered using comma (,) as the delimiter."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",metastring:"title='xos.conf'",children:"process=top,lock.sh\n"})})]}),"\n",(0,t.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,t.jsx)(n.h3,{id:"adding-the-metrics-event",children:"Adding the metrics event"}),(0,t.jsxs)(n.p,{children:["This example shows how to set to send an alert when any process monitoring target set in the XOS agent (",(0,t.jsx)(n.em,{children:"xos.conf"}),") is terminated."]}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Under the user database project, go to ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Alert"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Event setting"})}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Metrics"})})," tab."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"+ Add Alert Policy"})}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Metrics event"})})," window appears, enter the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"event name"})}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Category"})}),", select the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"db_process_check"})})," item."]}),"\n",(0,t.jsx)(s,{img:"best-p/db-add-metrics-event-category-process.png"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Level"})}),", select an alert level."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Message"})}),", enter the alert message. You can apply any variables to messages by entering the tags or field keys."]}),"\n",(0,t.jsxs)(n.p,{children:["(e.g. ",(0,t.jsx)(n.code,{children:"${oname}"}),", ",(0,t.jsx)(n.code,{children:"${count}"}),", ",(0,t.jsx)(n.code,{children:"${process_name}"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Enter desired values from the following cases into ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Event rule"})}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In case any of ",(0,t.jsx)(n.strong,{children:"top"})," and ",(0,t.jsx)(n.strong,{children:"lock.sh"}),"processes is terminated: ",(0,t.jsx)(n.code,{children:"process_name == 'top' || process_name == 'lock.sh'"})]}),"\n",(0,t.jsx)(s,{img:"best-p/db-add-metrics-event-category-process-sample-00.png"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In case multiple processes are terminated among monitoring targets in the xos.conf file: ",(0,t.jsx)(n.code,{children:"count >= 2"})]}),"\n",(0,t.jsx)(s,{img:"best-p/db-add-metrics-event-category-process-sample-01.png"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In case multiple processes among the monitoring targets set in the xos.conf file are terminated or the lock.sh process is terminated: ",(0,t.jsx)(n.code,{children:"process_name == 'lock.sh' || count >= 2"})]}),"\n",(0,t.jsx)(s,{img:"best-p/db-add-metrics-event-category-process-sample-02.png"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["After all entries are made, select ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Save"})}),"."]}),"\n"]}),"\n"]}),(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["To send an alert when the event condition has been resolved, select the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Notify when event status is resolved"})})," option."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Tags or field keys can be seen in ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Sitemap"})})," > ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"Metrics search"})}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For more information about the ",(0,t.jsx)(n.strong,{children:"Metrics alert"})," for database projects, see ",(0,t.jsx)(n.a,{href:"../postgresql/metric-warning-notice",children:"the following"}),"."]}),"\n"]}),"\n"]})})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var t=s(96540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);