"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[35044],{54750:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var n=a(74848),s=a(28453);const i={id:"scale-in-auto-delete",title:"Automatic deletion of the agent in Scale In",description:"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.",tags:["Java","Agent"]},o=void 0,c={id:"java/scale-in-auto-delete",title:"Automatic deletion of the agent in Scale In",description:"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/java/scale-in-auto-delete.mdx",sourceDirName:"java",slug:"/java/scale-in-auto-delete",permalink:"/java/scale-in-auto-delete",draft:!1,unlisted:!1,editUrl:"undefined/docs/java/scale-in-auto-delete.mdx",tags:[{inline:!0,label:"Java",permalink:"/tags/java"},{inline:!0,label:"Agent",permalink:"/tags/agent"}],version:"current",frontMatter:{id:"scale-in-auto-delete",title:"Automatic deletion of the agent in Scale In",description:"The following explains how to automatically delete the Java agent when an automatically scaled system performs Scale In in the Auto Scale environment. The agent sends a SILENT_SHUTDOWN event to the server by creating a specific file, which automatically removes the agent from the list. This process facilitates agent management when the system automatically scales down, and manages resources efficiently without additional intervention.",tags:["Java","Agent"]},sidebar:"javaSidebar",previous:{title:"AES 256 encryption",permalink:"/java/aes-256-encryption"},next:{title:"Learn about the main features",permalink:"/java/learn-apm-main-menu"}},r={},l=[];function h(e){const t={admonition:"admonition",code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"If an agent name is automatically assigned in the Auto Scale environment, administrator's intervention is not required when a scale out occurs. The system scales up automatically. If a scale in occurs, the system must recognize it as a graceful shutdown."}),"\n",(0,n.jsxs)(t.p,{children:["For automatic deletion of the agent, the WhaTap server must receive messages from the Java agent. The agent sends a ",(0,n.jsx)(t.strong,{children:"SILENT_SHUTDOWN"})," event to the Whatap server when the ",(0,n.jsxs)(t.em,{children:["whatap_",(0,n.jsx)(t.code,{children:"{java-process-pid}"}),".shutdown"]})," file of the Java process appears in ",(0,n.jsx)(t.code,{children:"${WHATAP_HOME}"}),". Transfers are completed within 5 seconds."]}),"\n",(0,n.jsxs)(t.p,{children:["When the ",(0,n.jsx)(t.strong,{children:"SILENT_SHUTDOWN"})," event has been transferred to the WhaTap server and then the agent is shut down within 1 minute, the WhaTap server deletes the agent from the list. Any inactive event does not occur."]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsxs)(t.p,{children:["In case of Tomcat, you can configure in the ",(0,n.jsx)(t.em,{children:"shutdown.sh"})," file."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",metastring:"title=$TOMCAT_HOME/bin/shutdown.sh",children:"touch $WHATAP_HOME/whatap_{java-process-pid}.shutdown\n"})})]}),"\n"]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,a)=>{a.d(t,{R:()=>o,x:()=>c});var n=a(96540);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);