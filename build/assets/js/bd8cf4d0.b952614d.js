"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([[75448],{87925:(e,n,t)=>{t.d(n,{Ay:()=>o,RM:()=>i});var s=t(74848),r=t(28453);const i=[];function a(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Transaction means the logical unit of work (LUW) on the server side for processing a user browser request. The process for an individual web service (URL) request is a transaction. A transaction in a web application is the process from receiving an HTTP request for a web service (URL) to returning a response."}),"\n",(0,s.jsx)(n.p,{children:"The performance of the application can be summarized as the performance of these transactions. Transaction performance includes information such as transaction start-to-end time, response time, resource usage, or attributes of the transaction caller."}),"\n",(0,s.jsx)(n.p,{children:"Basically, the transaction performance can be analyzed through the response distribution and statistics."})]})}function o(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},78584:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>d});var s=t(74848),r=t(28453),i=t(87925);const a={id:"agent-transaction",title:"Transactions",description:"The agent traces the transaction performance and provides the following configurable options.",tags:[".NET","Transactions"]},o=void 0,c={id:"dotnet/agent-transaction",title:"Transactions",description:"The agent traces the transaction performance and provides the following configurable options.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/dotnet/agent-transaction.mdx",sourceDirName:"dotnet",slug:"/dotnet/agent-transaction",permalink:"/dotnet/agent-transaction",draft:!1,unlisted:!1,editUrl:"undefined/docs/dotnet/agent-transaction.mdx",tags:[{inline:!0,label:".NET",permalink:"/tags/net"},{inline:!0,label:"Transactions",permalink:"/tags/transactions"}],version:"current",frontMatter:{id:"agent-transaction",title:"Transactions",description:"The agent traces the transaction performance and provides the following configurable options.",tags:[".NET","Transactions"]},sidebar:"dotNetSidebar",previous:{title:"Agent Log",permalink:"/dotnet/agent-log"},next:{title:"DB, SQL",permalink:"/dotnet/agent-dbsql"}},l={},d=[...i.RM,{value:"Transaction Tracing",id:"transaction-tracing",level:2},{value:"Exceptional handling",id:"exception",level:2},{value:"HTTP transaction tracing",id:"http-transaction-tracing",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",section:"section",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Cmdname:t,ScrollToLink:a}=n;return t||x("Cmdname",!0),a||x("ScrollToLink",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"transaction-tracing",children:"Transaction Tracing"}),(0,s.jsx)(n.p,{children:"The following agent options allow you to trace the execution paths of each transaction for applications in detail."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_active_transaction_slow_time"})," ",(0,s.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"3000"})]}),"\n",(0,s.jsx)(n.p,{children:"In the active transaction arc equalizer graph on the dashboard that checks collected data, specify the criteria for the transaction response time that can be recorded as a slow section. If the transaction response time exceeds the set time, the number of slow active transactions is included."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_active_transaction_very_slow_time"})," ",(0,s.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"8000"})]}),"\n",(0,s.jsx)(n.p,{children:"In the active transaction arc equalizer graph on the dashboard that checks collected data, specify the criteria for the transaction response time that can be recorded as a very slow section. If the transaction response time exceeds the set time, the number of very slow active transactions is included."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_active_transaction_lost_time"})," ",(0,s.jsx)("span",{class:"type",children:"Millisecond"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"300000"})]}),"\n",(0,s.jsxs)(n.p,{children:["Timeout waiting for a transaction to end. If a transaction does not end within 5 minutes, no further transaction data is collected. You can see ",(0,s.jsx)(n.code,{children:"Lost Connection"})," in the transaction trace information."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"prepend_app_pool_name"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.p,{children:["If the option value is set to ",(0,s.jsx)(n.code,{children:"true"}),", the full name of the application appears before the URL of the transaction."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_db_command_methods"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsxs)(n.p,{children:["Enter the name of the method to monitor in the ",(0,s.jsx)(n.code,{children:"System.Data.Common.DbCommand"})," class. To set multiple values, use comma (,) as the delimiter. To monitor all methods, apply as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:'title="whatap.conf"',children:"trace_db_command_methods=ExecuteReader, ExecuteReaderAsync, ExecuteNonQuery, ExecuteNonQueryAsync, ExecuteScalar, ExecuteScalarAsync\n"})}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"exception",children:"Exceptional handling"}),(0,s.jsxs)(n.p,{children:["The following options are used to manage and monitor exceptions that occur in applications. You can check the stability of applications by registering business exceptions and collecting related statistics. You can also set whether to ignore specific exceptions or treat them as errors if the HTTP status code is an error. Exception-handled items appear as normal transactions in the ",(0,s.jsx)(t,{sid:"side_hitmap",className:"uitext"})," or ",(0,s.jsx)(t,{sid:"TTL06209",className:"uitext"})," window."]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"transaction_status_error_enable"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsx)(n.p,{children:"If an HTTP status code that is not a normal response such as HTTP 401 or 403, is returned, set whether or not to handle it as an error."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"status_ignore"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"You can set the HTTP status codes to ignore. For multiple values, use comma (,) as the delimiter."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# example\nstatus_ignore=408,500\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Ignore status error/Hitmap display level: Excludes the ",(0,s.jsx)("span",{class:"normal",children:"INFO"})," (blue)/error statistics."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"status_ignore_set"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"whatap.error.STATUS_ERROR"})," is ignored. For multiple values, use comma (,) as the delimiter."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:"title='whatap.conf'",children:"# example\nstatus_ignore_set=/api/test/timeout/{time}:408,/api/test/timeout:200,/error:500\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Ignore status error set/Hitmap display level: Excludes the ",(0,s.jsx)("span",{class:"normal",children:"INFO"})," (blue)/error statistics."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"httpc_status_error_enable"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"true"})]}),"\n",(0,s.jsxs)(n.p,{children:["Set whether or not to collect when the HTTP status code is an error. It includes client error responses (",(0,s.jsx)(n.code,{children:"400"})," or higher) and server error responses (",(0,s.jsx)(n.code,{children:"500"})," or higher)."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["For more information about the HTTP status codes, see ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/docs/Web/HTTP/Status",children:"the following"}),"."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"httpc_status_ignore"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsxs)(n.p,{children:["If the HTTP status code is an error (",(0,s.jsx)(n.code,{children:"HTTPC_ERROR"}),"), it can be ignored. When listing multiple values, use comma (,) as the delimiter."]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Ignore HTTP status error code/Exclude error statistics"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"httpc_status_ignore_set"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"whatap.error.HTTPC_ERROR"})," is ignored. For multiple values, use comma (,) as the delimiter."]}),"\n",(0,s.jsxs)(n.p,{children:["Set it as ",(0,s.jsx)(n.code,{children:"httpc_status_ignore_set=/a/b/c:400,/a/ab/c:404"}),". In Statistics/Error Analysis, enter the value for ",(0,s.jsx)(n.code,{children:"HTTPC_URL"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",metastring:'title="whatap.conf"',children:"httpc_status_ignore_set=/a/b/c:400,/a/ab/c:404\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Ignore HTTP status error code/Exclude error statistics"})}),"\n"]}),"\n"]})]}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(n.h2,{id:"http-transaction-tracing",children:"HTTP transaction tracing"}),(0,s.jsx)(n.p,{children:"The following agent options trace and record various data related to HTTP requests and responses. This allows you to closely monitor and analyze the HTTP transactions for applications. You can add parameter values \u200b\u200bto the transaction names or exclude specific URLs or HTTP methods. You can also record transactions in detail, including HTTP headers and parameters."}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"profile_http_parameter_keys"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"Only the parameters corresponding to the set key are recorded. For multiple values, use comma (,) as the delimiter."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"profile_http_header_enabled"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.p,{children:["To record HTTP headers in the trace details, set it to ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"profile_http_parameter_enabled"})," ",(0,s.jsx)("span",{class:"type",children:"Boolean"}),(0,s.jsx)(a,{anchor:"profile_http_parameter"})]}),"\n",(0,s.jsxs)(n.p,{children:["Default ",(0,s.jsx)(n.code,{children:"false"})]}),"\n",(0,s.jsxs)(n.p,{children:["To record HTTP parameters in the trace details, set this to ",(0,s.jsx)(n.code,{children:"true"}),". Parameters can be viewed by entering a separate security key."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Set the security key to 6 digits in ",(0,s.jsx)(n.em,{children:"'%PROGRAMFILES%'\\WhaTap .NET\\paramkey.txt"})," of the WAS server. If ",(0,s.jsx)(n.em,{children:"paramkey.txt"})," does not exist, it is automatically generated as a random value."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"profile_http_parameter_url_prefix"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"It is used to define the prefix of URL to record HTTP parameters in the trace details."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"profile_http_body_url_prefix"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"It is used to define the prefix of the target URL to record the HTTP body information in the trace history."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_ignore_url_set"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"It sets URLs to exclude from transaction tracing. For multiple values, use comma (,) as the delimiter."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The URLs registered through this option are excluded from the ",(0,s.jsx)(t,{sid:"side_hitmap",className:"uitext"}),", ",(0,s.jsx)(t,{sid:"TTL06209",className:"uitext"}),", or ",(0,s.jsx)(t,{sid:"TTL06527",className:"uitext"})," window for collection."]})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"trace_ignore_url_prefix"})," ",(0,s.jsx)("span",{class:"type",children:"String"})]}),"\n",(0,s.jsx)(n.p,{children:"Set the URL prefix for excluding transactions during collection. Any URLs whose prefix matches the set value do not collect the transaction performance. For multiple values, use comma (,) as the delimiter."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["The URLs registered through this option are excluded from the ",(0,s.jsx)(t,{sid:"side_hitmap",className:"uitext"}),", ",(0,s.jsx)(t,{sid:"TTL06209",className:"uitext"}),", or ",(0,s.jsx)(t,{sid:"TTL06527",className:"uitext"})," window for collection."]})}),"\n"]}),"\n"]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}function x(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(96540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);