---
id: agent-log
title: エージェントログの設定
description: PHPエージェントログの場所とオプションを設定できます。
keywords:
  - PHP
  - エージェントログ
  - 設定
  - アプリケーション
---

アプリケーションサーバーが実行されると、モニタリング情報を収集します。収集した情報は、ログファイルに保存します。 

## ログの設定

- **whatap.log_keep_days** <span class='type'>Day</span>

  既定値`7`

  ログファイルの保存期間を設定します。

## ログシンク(LogSink) の設定

ログデータを収集します。

### 基本設定

- **whatap.logsink_enabled** <span class='type'>Boolean</span>

  既定値`false`

  値が`true`の場合、ログデータを収集します。

- **whatap.logsink_zip_enabled** <span class='type'>Boolean</span>

  既定値 `true`

  値が`true`の場合、ログデータを圧縮して送信します。既定値は、GZIPです。

### ログファイル設定

- **whatap.logsink.files** <span class='type'>String</span>

  すべてのファイルパスとファイル名を設定します。コンマ(,)で多数のファイルを指定できます。 

### 例

- **基本設定**

  ```ini title='whatap.ini'
  whatap.logsink_enabled=true
  whatap.logsink_zip_enabled=true
  ```

- **Apache error logおよびaccess log設定**

  ```ini title='whatap.ini'
  whatap.logsink_enabled=true
  whatap.logsink_zip_enabled=true
  whatap.logsink.files=/etc/httpd/logs/error_log, /etc/httpd/logs/access_log
  ```

:::tip

ログファイル名に、日付形式の変数を使用できます。Python `strftime()`使用基準として適用します。 

> 例、20240101:`%Y%m%d`

```ini title="whatap.ini"
whatap.logsink.files=/etc/httpd/logs/customlog-%Y%m%d
```

この機能は、PHPエージェント2.7.2バージョン以降に対応しています。 

:::
