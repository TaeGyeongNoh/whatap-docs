ホーム画面 > プロジェクト選択 > **_アラート通知_** > **_イベント設定_** >**ログ**タブを選択

収集したログデータを条件に合わせてフィルタリングすることで、警告通知を設定できます。**_+イベントの追加_**ボタンをクリックして、ログイベントの警告通知を設定します。 すべての設定を完了してから、**_保存_**ボタンを選択してください。

![ログ通知設定](/img/log-alert-event-setting-remove-ce.png)

**_リアルタイムログイベント_**を追加することができます。**_リアルタイムログイベント_**は、リアルタイムで収集したログからキーワードが表示すると、アラート通知を送信します。

{/* >
![로그 경고 알림](/img/set-event-log-main.png)

追加できるログイベントは次のとおりです。

- **_リアルタイムログイベント_**：リアルタイムで収集したログからキーワードが登場すると、警告通知を送信します。

- **_複合ログイベント_**：最近収集したログのうち、一定の条件を満たすログが一定数以上収集された場合に警告通知を送信します。

*/}

:::note

イベントを追加または設定するには、通知設定の権限が必要です。権限の詳細については、[次の文書](../project/project-structure)を参照してください。

:::

## イベント追加の共通オプション

以下は、ログイベントを追加するときに設定できる共通オプションです。

- **_イベントの活性化_**：トグルボタンをクリックして、アラート通知を有効にするかどうかを選択できます。

- **_レベル_**: <span class='vslow'>危険</span>, <span class='slow'>警告</span>, <span style={{color: '#757575'}}>情報</span>の中のレベルを選択してください。

- **_イベント名_** ：追加するイベント名を入力してください。

- **_メッセージ_**：イベント発生時に出力する通知メッセージを入力します。`${タグまたはフィールドキー}` を入力してメッセージに変数を適用します。変数に入力するキーは、選択したメトリクスデータ**_カテゴリ_**に含まれる値を入力します。

  メッセージに`${logContent}`と入力すると、収集されたログの本文が警告通知の内容として出力されます。

  ![ログイベント - メッセージ](/img/set-event-log-message.png)

- **_カテゴリー_**：ログ区分の名称(ログフォルダ名)のリストから選択または手動で入力することができます。

- **_イベント発生の一時停止_**：過剰なアラート通知を発生しないようにするオプションです。最初のアラート通知から選択した時間にアラート通知を送信されません。また、**_イベント履歴_**メニューには記録されません。

- **_イベント受信タグ_**：イベント受信タグを選択すると、そのタグを持つプロジェクトメンバーと3rd-partyプラグインに通知を送信できます。イベント受信タグを選択しない場合は、プロジェクトの全体メンバーにアラート通知を送信します。

  タグを追加しない場合は、全てのメンバーにアラート通知を送信します。**_+タグ追加_**をクリックし、**_タグ一覧_**からアラート通知の送信対象を選択してください。 **_+新しいタグの作成_**を選択してタグを追加することもできます。

  :::note

  **_アラート通知_** > **_イベント受信設定_**メニューでプロジェクトメンバーと3rd-partyプラグインにタグを設定できます。

  :::

## リアルタイムログイベントの追加

![リアルタイムログイベントのアラート通知設定](/img/set-event-log.png)

- **_キーワード検索範囲_**：検索キーであり、既定値は**_全体_**を対象とします。**_全体_**とは、ログのコンテンツを意味します。

- **_キーワード_**：ログから入力したキーワードを含む場合は、アラート通知を送信します。 一覧から選択または直接入力できます。

- **_アラート通知対象のフィルタリング_**：**_キーワード検索範囲_**と**_オペレーター_**、**_検索値_**を選択して、対象をフィルタリングするか、**_直接入力_**オプションを選択できます。入力がない場合は、リアルタイムで収集するデータ全体に対して通知の発生有無を判断します。

  ![アラート通知対象のフィルタリング](/img/set-event-log-filter.png)

> 例）`AppLog`カテゴリのログから`level`が`ERROR`であるログを検索します。一致するログが、**_oid_**が**12345678**の場合、アラート通知を送信します。

{/* >

## 複合ログイベントの追加

![複合ログイベント警告の通知設定](/img/set-event-complex-log.png)

- **_アラート通知条件_**

  - **_キーワード検索範囲_**では、イベント発生条件の対象を選択できます。選択した**_キーワード検索範囲_**に該当するキーワードを選択できます。
  - **_キーワード検索範囲_**が同じ項目を追加する場合は「OR」条件で、別の項目を追加する場合は「AND」条件で機能します。 
  - **_除外_**チェックボックスを選択し、選択したキーワードをイベントの発行条件から除外できます。
  - **_+ 追加_**を選択して複数のイベントの発行条件を追加または除外し、設定できます。

- **_データ照会範囲_**：選択した時間の間に収集したログを照会します。 データ照会時間を5分に選択すると、最近5分間に収集したデータを照会してイベントの発生条件を確認します。

- **_アラート通知条件_**：入力した回数と選択したオペレーターの条件を果たしたイベントが発生した場合、アラート通知を送信します。

> 例）`AppLog`カテゴリのログのうち、`条件入力`に該当するログをフィルタリングします。条件入力で`除外`をチェックした場合、その条件に該当するログを除外します。したがって、`level`が`ERROR`であるログは除きます。最近10分間に収集したログのうち、イベントが`5`より小さい場合は警告通知を送信します。

*/}

## ログイベント設定の修正

1. **_警告通知_** > **_イベント設定_**メニューに移動してください。

2. **_ログ_**タブを選択します。

3. ログイベント一覧の中から変更するイベント項目の右側![編集アイコン](/img/ico-edit.svg)ボタンを選択します。

4. **_イベント設定_**ウィンドウが表示されたら、オプションを変更して、**_保存_**ボタンを選択します。

選択したログイベントを削除するには、イベント設定ウィンドウの右上の**削除**ボタンをクリックします。

## ログイベントの非活性化

1. **_警告通知_** > **_イベント設定_**メニューに移動してください。

2. **_ログ_**タブを選択します。

3. ログイベント一覧からアラート通知をオフにするイベント項目の右側にあるトグルボタンを選択します。 

もう一度トグルボタンをクリックすると、そのアラート通知がアクティブになります。

## ログイベントの書き込み／読み込み

ログイベントの設定内容をjsonファイルとして保存し、読み込んで再利用することができます。

1. **_警告通知_** > **_イベント設定_**メニューに移動してください。

2. **_ログ_**タブを選択します。

3. ログイベント一覧の一番上の**_JSON_**![書き出しアイコン](/img/ico-export.svg)ボタンをクリックしてください。 **_JSON書き出し_**ウィンドウが表示されます。

4. エクスポートするアイテムを修正または編集します。

5. 右上の![書き出しアイコン](/img/ico-export.svg)**_クリックし_**ボタンを選択します。ブラウザでjsonファイルをダウンロードします。

6. ログイベント一覧の上の![読み込みアイコン](/img/ico-import.svg)ボタンをクリックしてください。

7. ファイル選択ウィンドウが表示する前にダウンロードしたjsonファイルを選択します。

8. **_JSONのインポート_**ウィンドウが表示されると内容を修正して、**_+ 一覧に追加_**ボタンを選択します。

:::note

- **_イベントにidが存在します。idを削除した後、もう一度やり直してください。_**メッセージが表示されたら**_JSON読み込み_**ウィンドウから`id`エントリを削除し、**_+ 一覧に追加する_**ボタンを選択してください。
- 既存のイベント項目を上書きをするには、`id` 項目を削除し、**_上書き_**ボタンをクリックします。

:::
