WhaTapモニタリングサービスでは、モニタリング対象を包括的な意味でオブジェクトという名称を使用し、エージェントと同じ意味で使用することがあります。モニタリング対象オブジェクトを区別するために、名前を区別する必要があります。WhaTapは、オブジェクト名とオブジェクトIDによって対象を区別します。

:::note

- オブジェクト(エージェント) 名は、プロジェクトごとに一意である必要があります。
- オブジェクトID＝CRC32（オブジェクト名）です。オブジェクトIDまたは名前が変更されると、以前のデータとリンクされません。

:::

WhaTapはモニタリングは、情報収集対象であるデータベースサーバーを識別するための情報として、データベースサーバーから収集して情報を活用します。基本的な使用情報は、データベースサーバーの種類、IPアドレス、サービスポートなどを組み合わせてデータベースサーバーの固有の識別子として使用します。必要に応じてユーザーが設定した名前を利用するか、パターンを変更して固有の値に変更して利用します。エージェントの名前は必ず固有の値である必要があります。

データベースサーバーから抽出した情報を使用する理由は、データベースサーバーの停止またはネットワークの切断、エージェント問題による収集サーバーとエージェントの通信障害が復旧した場合に再接続したエージェントから送信される情報が既存エージェントから送信された情報との継続性を維持するためです。

デーバーテイスサーバーの識別に使用する基本パターンは次のとおりです。

- **object_name** <span class='type'>String</span>

  既定値`{type}`-`{ip2}`-`{ip3}`-`{port}`

  データベースサーバーを識別するためのエージェント名(ONAME) の構成方法です。ONAMEに基づいてOIDが生成されます。

  | 設定           | 説明                                                                      |
  | ------------ | ----------------------------------------------------------------------- |
  | `{type}`     | `whatap.app_name`に設定された値を使用します。                                         |
  | `{ip0}`      | IPv4アドレスのうち、1番目の単位を使用します。(例：**10**.11.12.13のうち**10**)                   |
  | `{ip1}`      | IPv4アドレスのうち、2番目の単位を使用します。(例：10.**11**.12.13のうち**11**)                   |
  | `{ip2}`      | IPv4アドレスのうち、3番目の単位を使用します。(例：10.11.**12**.13のうち**12**)                   |
  | `{ip3}`      | IPv4アドレスのうち、4番目の単位を使用します。(例：10.11.12.**13**のうち**13**)                   |
  | `{port}`     | データベースサーバのポート                                                           |
  | `{hostname}` | ホスト名                                                                    |

- **auto_oname_enabled** <span class='type'>Boolean</span>

  既定値`false`

  サーバーに登録するエージェント名(oname)をサーバーから自動受信される機能を有効にします。適用する場合は、`-Dwhatap.name`、および`-Dwhatap.oname`オプションは無視されます。収集サーバーとの通信により、`oname`を与えられた後、エージェントの一般的な動作を開始します。

- **auto_oname_prefix** <span class='type'>String</span>

  既定値`agent`

  エージェント名をサーバーから自動的に割り当てる場合、エージェント名のprefixや業務名を使用します。prefixにシリアル番号1\~)を付与します。

- **auto_oname_reset** <span class='type'>Int</span>

  既定値`0`

  サーバーから新しいエージェント名を付与するために修正します。エージェント名を自動付与すると、`whatap.oname`というシステム環境変数に設定されます。一度定められたシステムの環境変数は、JAVAインスタンスが再起動するまで維持します。リセットしたいときは、`auto_oname_reset`値を修正してください。現在の設定値と異なる値に変更すると適用されます。
