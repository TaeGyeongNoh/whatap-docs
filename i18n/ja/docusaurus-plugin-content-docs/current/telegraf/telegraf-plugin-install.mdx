---
id: telegraf-plugin-install
title: プラグインインストール
description: Telegrafのwhatap output plugin(tcp)の使用方法をを説明します。
keywords:
  - Telegraf
  - プラグイン
  - インストール
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

## whatap output plugin

Telegrafのwhatap output plugin(tcp)を使用して、Telegrafで収集したメトリクスをWhaTap収集サーバーに送信することができます。 収集されたデータは、WhaTapのプロジェクトで確認できます。

:::note

Telegrafプラグインは、ユーザーがサービスに直接インストールして設定する必要があります。

:::

## サポート環境

次の一覧にあるOSは、ダウンロードおよびインストールできます。その他のOSは、[コンパイル インストール](#installcompile)に進みます。

- macOS
- Red Hat & CentOS
- Ubuntu & Debian
- FreeBSD
- windows

## ダウンロードインストール

Telegrafreleaseバージョンを基準にwhatap pluginを追加して、事前に作成したインストールファイルです。Telegrafが既にインストールされている場合は、実行ファイルを置き換えるだけでwhatap pluginを有効にすることができます。

### Telegraf releaseバージョン

<Tabs>
<TabItem value="1211" label="1.21.1" default>

- **Red Hat & CentOS**  
  - https://repo.whatap.io/telegraf/telegraf-release-1.21.1/linux/amd64/telegraf (実行ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.21.1/linux/amd64/telegraf-1.21.1-1.amd64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.21.1/linux/amd64/telegraf-1.21.1_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.21.1/linux/amd64/telegraf (実行ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.21.1/linux/amd64/telegraf_1.21.1-1_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf-1.21.1_linux_amd64.tar.gz

</TabItem>
<TabItem value="1160" label="1.16.0">

- **macOS**

  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/darwin/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/darwin/amd64/telegraf-1.16.0_darwin_amd64.tar.gz

- **Red Hat & CentOS**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf-1.16.0-1.x86_64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf-1.16.0_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf_1.16.0-1_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/linux/amd64/telegraf-1.16.0_linux_amd64.tar.gz

- **FreeBSD**

  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/freebsd/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/freebsd/amd64/telegraf-1.16.0_freebsd_amd64.tar.gz

- **windows**

  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/windows/amd64/telegraf.exe (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0/windows/amd64/telegraf-1.16.0_windows_amd64.zip

</TabItem>
<TabItem value="1154" label="1.15.4">

- **macOS**

  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/darwin/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/darwin/amd64/telegraf-1.15.4_darwin_amd64.tar.gz

- **Red Hat & CentOS**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf-1.15.4-1.x86_64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf-1.15.4_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf_1.15.4-1_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/linux/amd64/telegraf-1.15.4_linux_amd64.tar.gz

- **FreeBSD**

  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/freebsd/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/freebsd/amd64/telegraf-1.15.4_freebsd_amd64.tar.gz

- **windows**

  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/windows/amd64/telegraf.exe (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4/windows/amd64/telegraf-1.15.4_windows_amd64.zip

</TabItem>
<TabItem value="1145" label="1.14.5">

- **macOS**

  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/darwin/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/darwin/amd64/telegraf-1.14.5_darwin_amd64.tar.gz

- **Red Hat & CentOS**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf-1.14.5-1.x86_64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf-1.14.5_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf_1.14.5-1_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/linux/amd64/telegraf-1.14.5_linux_amd64.tar.gz

- **FreeBSD**

  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/freebsd/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/freebsd/amd64/telegraf-1.14.5_freebsd_amd64.tar.gz

- **windows**

  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/windows/amd64/telegraf.exe (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5/windows/amd64/telegraf-1.14.5_windows_amd64.zip

</TabItem>
<TabItem value="1132" label="1.13.2">

- **macOS**

  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/darwin/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/darwin/amd64/telegraf-1.13.0~842282d_darwin_amd64.tar.gz

- **Red Hat & CentOS**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf-1.13.0~842282d-0.x86_64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf-1.13.0~842282d_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf_1.13.0~842282d-0_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/linux/amd64/telegraf-1.13.0~842282d_linux_amd64.tar.gz

- **FreeBSD**

  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/freebsd/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/freebsd/amd64/telegraf-1.13.0~842282d_freebsd_amd64.tar.gz

- **windows**

  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/windows/amd64/telegraf.exe (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2/windows/amd64/telegraf-1.13.0~842282d_windows_amd64.zip

</TabItem>
<TabItem value="112" label="1.12">

- **macOS**

  - https://repo.whatap.io/telegraf/telegraf-release-1.12/darwin/amd64/telegraf(実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/darwin/amd64/telegraf-1.12.0~842282d_darwin_amd64.tar.gz

- **Red Hat & CentOS**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf-1.12.0~842282d-0.x86_64.rpm
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf-1.12.0~842282d_linux_amd64.tar.gz

- **Ubuntu & Debian**  

  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf_1.12.0~842282d-0_amd64.deb
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/linux/amd64/telegraf-1.12.0~842282d_linux_amd64.tar.gz

- **FreeBSD**

  - https://repo.whatap.io/telegraf/telegraf-release-1.12/freebsd/amd64/telegraf(実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/freebsd/amd64/telegraf-1.12.0~842282d_freebsd_amd64.tar.gz

- **windows**

  - https://repo.whatap.io/telegraf/telegraf-release-1.12/windows/amd64/telegraf.exe (実行可能ファイル)
  - https://repo.whatap.io/telegraf/telegraf-release-1.12/windows/amd64/telegraf-1.12.0~842282d_windows_amd64.zip

</TabItem>
</Tabs>

## コンパイル インストール {#installcompile}

### 事前準備条件

- **Go SDK構成**

- **go depインストール**

- **ソースファイル**

  _`${GOPATH}`/src/github.com/influxdata/telegraf/_ ディレクトリの下の圧縮ファイルを解凍します。

  :::note

  Telegraf releaseバージョンにwhatap pluginを含むソースファイルです。 

  :::

  - https://repo.whatap.io/telegraf/telegraf-release-1.12_whatap.tar.gz
  - https://repo.whatap.io/telegraf/telegraf-release-1.13.2_whatap.tar.gz
  - https://repo.whatap.io/telegraf/telegraf-release-1.14.5_whatap.tar.gz
  - https://repo.whatap.io/telegraf/telegraf-release-1.15.4_whatap.tar.gz
  - https://repo.whatap.io/telegraf/telegraf-release-1.16.0_whatap.tar.gz

### インストール手順

:::note

ビルドに関する詳細は [Telegraf github](https://github.com/influxdata/telegraf)ページを参照してください。

:::

_`${GOPATH}`/src/github.com/influxdata/telegraf_ 以下のMakefileでビルドを進めてください。

1. 依存関係ファイルのインストールを進めてください。 依存関係ファイルのインストールで、go depが使用されるため、go depを最初にインストールする必要があります。

   ```bash title=SH
   # make deps
   ```

2. 実行ファイルをビルドしてください。 _`${GOPATH}`/bin_ ディレクトリに実行ファイル(telegraf)が生成されます。

   ```bash title=SH
   # make go-install
   ```

3. インストールパッケージが必要な場合は、`make package`コマンドを使用して作成できます。クロスコンパイルして、OSのパッケージファイルを作成してください。

   ```bash title=SH
   # make package
   ```
