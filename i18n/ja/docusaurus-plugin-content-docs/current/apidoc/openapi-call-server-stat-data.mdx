---
id: openapi-call-server-stat-data
title: 統計データの参照
description: 統計データの照会(Server)のためのOpenAPIに関する説明を提供します。
keywords:
  - Open API
  - API
  - 統計
  - 統計データの参照
  - Server
  - Serverモニタリング
---

## サーバー統計の詳細

<span class='apitype'>GET</span> https://service.whatap.io/open/json/stat/sm_stat?<code>stitme</code>&<code>etime</code>&<code>filter</code><code>&oid</code>

```bash title='command'
$ curl -L -w "\n" -H "x-whatap-token: {{PROJECT API TOKEN}}" -H "x-whatap-pcode: {{projectCode}}" "https://service.whatap.io/open/json/stat/sm_stat?stime=開始UTC&etime=終了UTC&filter=m5&oid=0"
```

| パラメータ  | 説明                                                                                     |
| ------ | -------------------------------------------------------------------------------------- |
| stime  | 開始時間UTC(UNIX epoch time、 millisecond)                               |
| etime  | 終了時間UTC(UNIX epoch time、 millisecond)                               |
| filter | 基本的に`m5`で自動設定されます。時間範囲内に5分の統計を取得するために`m5`を使用します。<br/>5秒の統計は`s5`を使用し、1時間の統計は`h1`を使用します。 |
| oid    | 特定のサーバーのみをモニタリングする場合は、次を追加してください。                                                      |

:::note

- 参照時間(`stime`, `etiem`)は1時間以内に制限し、ms(millisecond)単位です。
- `oid` 以外のパラメータは許可しません。

:::

```json title='response'
{
  "servers":[
    {
      "oid": -1030311093 ,
      "timeData":[
        {
          "usedPercent": 69.1,
          "trafficIn": 12113.57,
          "trafficOut": 24781.08,
          "cpu": 4.08,
          "memory_swappused": 15.41,
          "time": 1572341400000,
          "memory_pused": 47.6,
          "ioPercent": 0.26
        },
        {
          "usedPercent": 69.1,
          "trafficIn": 12183.97,
          "trafficOut": 25600.59,
          "cpu": 7.89,
          "memory_swappused": 15.5,
          "time": 1572341700000,
          "memory_pused": 47.79,
          "ioPercent": 0.22
        },
      (...)
      ],
    },
    (...)
  ]
}
```
