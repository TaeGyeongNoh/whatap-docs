---
id: golang-0_4_1
title: Go Agent v0.4.1
toc_max_heading_level: 2
pagination_next: release-notes/golang/golang-0_4_0
displayed_sidebar: releaseSidebar
---

August 28, 2024

- <Status priority='1'>New</Status> Added the standard output log collection feature.

  ```ini title="whatap.conf"
  logsink_enabled=true
  logsink_stdout_enabled=true
  logsink_zip_enabled=true # optional
  ```

  :::note

  By applying the `logsink_zip_enabled` option, you can collect and compress an appropriate amount of log data for transmission.

  :::

- <Status priority='1'>New</Status> Added the option to prioritize environment variables over the agent configuration file (*whatap.conf*).

  - Agent settings are applied in the order of *whatap.conf* and then environment variables.

  - When the `use_env_first` option (default value: `false`) is set, environment variables take precedence over the settings in the *whatap.conf* file.

    ```ini title="whatap.conf"
    use_env_first=true
    ```

  - Alternatively, you can set the environment variable as `WHATAP_USE_ENV_FIRST=true`.

- <Status priority='1'>Changed</Status> Changed the default values for the following agent options.

  - The TCP read timeout has been changed from 30 seconds to 120 seconds.

    ```ini title="whatap.conf"
    net_so_time=120000
    ```

  - The TCP write buffer value has been changed from 8 Mb to 2 Mb.

    ```ini title="whatap.conf"
    net_write_buffer_size=2*1024*1024
    ```

- <Status priority='0'>Fixed</Status> Fixed the recognition error for the `OKIND` environment variable.

  You can set `okind` by using the `OKIND` or `WHATAP_OKIND` environment variable.

:::info

**Download**

- go-api(import library)

  ```bash
  go get github.com/whatap/go-api@latest
  ```

- Service agent

  | OS Name                         | File format | Architecture |                                      Download                                      |
  | ------------------------------- | :---------: | :----------: | :--------------------------------------------------------------------------------: |
  | Red Hat / CentOS / Amazon linux |     RPM     |    x86 x64   |  [Download](https://repo.whatap.io/centos/6/x86_64/whatap-agent-0.4-1.x86_64.rpm)  |
  | \^                              |      \^     |    aarch64   | [Download](https://repo.whatap.io/centos/7/aarch64/whatap-agent-0.4-1.aarch64.rpm) |
  | Ubuntu 12 and above / Debian    |     DEB     |     amd64    |   [Download](https://repo.whatap.io/debian/unstable/whatap-agent_0.4.1_amd64.deb)  |
  | \^                              |      \^     |     arm64    |   [Download](https://repo.whatap.io/debian/unstable/whatap-agent_0.4.1_arm64.deb)  |
  | Alpine linux                    |   tar gzip  |    x86 x64   |     [Download](https://repo.whatap.io/alpine/x86_64/whatap-agent-0.4.1.tar.gz)     |
  | \^                              |      \^     |    aarch64   |     [Download](https://repo.whatap.io/alpine/aarch64/whatap-agent-0.4.1.tar.gz)    |

:::
