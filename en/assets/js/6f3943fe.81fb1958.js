"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([["90330"],{29930:function(e,t,n){n.r(t),n.d(t,{metadata:()=>a,contentTitle:()=>c,default:()=>g,assets:()=>p,toc:()=>h,frontMatter:()=>d});var a=JSON.parse('{"id":"java/update-agent","title":"Agent Update","description":"The following explains how to update the Java agent to the latest version. The procedure includes how to download the latest agent and restart the application server to apply the update. For a stable system shutdown, you can see the procedure for terminating Apps, changing the agent JAR file, and updating status during the startup.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/java/update-agent.mdx","sourceDirName":"java","slug":"/java/update-agent","permalink":"/en/java/update-agent","draft":false,"unlisted":false,"editUrl":"undefined/docs/java/update-agent.mdx","tags":[],"version":"current","frontMatter":{"id":"update-agent","title":"Agent Update","description":"The following explains how to update the Java agent to the latest version. The procedure includes how to download the latest agent and restart the application server to apply the update. For a stable system shutdown, you can see the procedure for terminating Apps, changing the agent JAR file, and updating status during the startup.","keywords":["Java","Agent","Update"],"isTranslationMissing":false},"sidebar":"javaSidebar","previous":{"title":"Asynchronous Tracking","permalink":"/en/java/async-tracking"},"next":{"title":"Agent removal and rollback","permalink":"/en/java/uninstall-agent"}}'),s=n("85893"),i=n("50065");function o(e){let t={a:"a",h2:"h2",li:"li",ol:"ol",p:"p",section:"section",...(0,i.a)(),...e.components},{Cmdname:n,ImgLang:a}=t;return!n&&l("Cmdname",!0),!a&&l("ImgLang",!0),(0,s.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(t.h2,{id:"downloading-the-latest-version-of-agent",children:"Downloading the latest version of agent"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Log in the WhaTap monitoring service (",(0,s.jsx)(t.a,{href:"https://service.whatap.io",children:"https://service.whatap.io"}),")."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Select a project to update the agent."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["On the left of the screen, select ",(0,s.jsx)(n,{sid:"management",className:"uitext"})," > ",(0,s.jsx)(n,{sid:"agent_update",className:"uitext"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Click ",(0,s.jsx)(n,{sid:"latest_version",className:"uitext"})," or ",(0,s.jsx)(n,{sid:"latest_version_for_all",className:"uitext"}),"."]}),"\n",(0,s.jsx)(a,{img:"java-update-agent.png",desc:"Update Agent"}),"\n"]}),"\n"]}),(0,s.jsx)(t.p,{children:"Download the agent and then restart the application server. Update is automatically applied."})]})}function r(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function l(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}let d={id:"update-agent",title:"Agent Update",description:"The following explains how to update the Java agent to the latest version. The procedure includes how to download the latest agent and restart the application server to apply the update. For a stable system shutdown, you can see the procedure for terminating Apps, changing the agent JAR file, and updating status during the startup.",keywords:["Java","Agent","Update"],isTranslationMissing:!1},c=void 0,p={},h=[{value:"Downloading the latest version of agent",id:"downloading-the-latest-version-of-agent",level:2},{value:"Automatic configuration of the update agent",id:"automatic-configuration-of-the-update-agent",level:2}];function u(e){let t={code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",section:"section",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r,{}),"\n",(0,s.jsxs)(t.section,{className:"remark-sectionize-h2",children:[(0,s.jsx)(t.h2,{id:"automatic-configuration-of-the-update-agent",children:"Automatic configuration of the update agent"}),(0,s.jsxs)(t.p,{children:["To update the Java agent, the server must be restarted. If ",(0,s.jsx)(t.em,{children:"whatap.agent.jar"})," is modified before restart, a graceful shutdown may fail while the application server is restarting."]}),(0,s.jsx)(t.p,{children:"To update the Java agent, proceed in the following order:"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"App shutdown"}),"\n",(0,s.jsx)(t.li,{children:"Modification of the agent jar"}),"\n",(0,s.jsx)(t.li,{children:"App start"}),"\n"]}),(0,s.jsx)(t.p,{children:"To easily process the above steps, the agent jar file name is to include the version number. It is important to set to automatically apply the latest versions during the update."}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:"{3} showLineNumbers",children:'########## WHATAP ############\nWHATAP_HOME=/whatap\nWHATAP_JAR=`ls ${WHATAP_HOME}/whatap.agent-*.jar | sort -V | tail -1`\nJAVA_OPTS="${JAVA_OPTS} -javaagent:${WHATAP_JAR} "\n########## WHATAP ############\n'})})]})]})}function g(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},50065:function(e,t,n){n.d(t,{Z:function(){return r},a:function(){return o}});var a=n(67294);let s={},i=a.createContext(s);function o(e){let t=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);