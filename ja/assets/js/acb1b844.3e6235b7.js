"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([["61597"],{37632:function(e,n,a){a.r(n),a.d(n,{metadata:()=>r,contentTitle:()=>i,default:()=>p,assets:()=>l,toc:()=>d,frontMatter:()=>c});var r=JSON.parse('{"id":"release-notes/php/php-2_4_0","title":"PHP Agent v2.4.0","description":"\u30EA\u30EA\u30FC\u30B9\uFF1A2021-12-16","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/release-notes/php/php-2.4.0.mdx","sourceDirName":"release-notes/php","slug":"/release-notes/php/php-2_4_0","permalink":"/ja/release-notes/php/php-2_4_0","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/php/php-2.4.0.mdx","tags":[],"version":"current","frontMatter":{"id":"php-2_4_0","title":"PHP Agent v2.4.0","toc_max_heading_level":2,"displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar"}'),s=a("85893"),t=a("50065");a("37016"),a("13348");let c={id:"php-2_4_0",title:"PHP Agent v2.4.0",toc_max_heading_level:2,displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},i=void 0,l={},d=[{value:"Change\uFF08\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\uFF09",id:"change\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",level:2},{value:"PHP 8.1",id:"php-81",level:3},{value:"Fixed(\u30D0\u30B0\u4FEE\u6B63)",id:"fixed\u30D0\u30B0\u4FEE\u6B63",level:2},{value:"cURL header\u8A2D\u5B9A\u60C5\u5831\u306E\u521D\u671F\u5316\u30A8\u30E9\u30FC",id:"curl-header\u8A2D\u5B9A\u60C5\u5831\u306E\u521D\u671F\u5316\u30A8\u30E9\u30FC",level:3}];function h(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u30EA\u30EA\u30FC\u30B9\uFF1A2021-12-16"}),"\n",(0,s.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,s.jsx)(n.h2,{id:"change\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8",children:"Change\uFF08\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\uFF09"})}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"php-81",children:"PHP 8.1"}),(0,s.jsx)(n.p,{children:"PHP 8.1\u306B\u5BFE\u5FDC\u3057\u307E\u3059\u3002"})]}),"\n",(0,s.jsx)(n.section,{className:"remark-sectionize-h2",children:(0,s.jsx)(n.h2,{id:"fixed\u30D0\u30B0\u4FEE\u6B63",children:"Fixed(\u30D0\u30B0\u4FEE\u6B63)"})}),"\n",(0,s.jsxs)(n.section,{className:"remark-sectionize-h3",children:[(0,s.jsx)(n.h3,{id:"curl-header\u8A2D\u5B9A\u60C5\u5831\u306E\u521D\u671F\u5316\u30A8\u30E9\u30FC",children:"cURL header\u8A2D\u5B9A\u60C5\u5831\u306E\u521D\u671F\u5316\u30A8\u30E9\u30FC"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"curl_setopt"}),"\u3001",(0,s.jsx)(n.code,{children:"curl_setopt_array"}),"\u95A2\u6570\u3092\u901A\u3058\u3066HTTP Header\u8A2D\u5B9A(CURLOPT_HTTPHEADER)\u3092\u884C\u3046\u5834\u5408\u3001\u91CD\u8907\u8A2D\u5B9A\u3092\u884C\u3046\u3068\u4EE5\u524D\u306E\u60C5\u5831\u306F\u521D\u671F\u5316\u3055\u308C\u3001\u65B0\u3057\u3044\u60C5\u5831\u306E\u307F\u304C\u8A2D\u5B9A\u3055\u308C\u307E\u3059\u3002"]}),(0,s.jsxs)(n.p,{children:["\u30DE\u30EB\u30C1\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3(",(0,s.jsx)(n.code,{children:"whatap.mtrace_enabled=true"}),") \u8A2D\u5B9A\u304C\u6D3B\u6027\u5316\u3055\u308C\u308B\u3068\u3001",(0,s.jsx)(n.code,{children:"curl_exec()"}),"\u95A2\u6570\u306E\u524D\u306BWhaTap Header\u60C5\u5831\u3092\u8A2D\u5B9A\u3059\u308B\u3053\u3068\u3067\u3001\u4EE5\u524D\u306E\u30E6\u30FC\u30B6\u30FC\u306EHeader\u60C5\u5831\u304C\u521D\u671F\u5316\u3055\u308C\u3066\u3057\u307E\u3046\u30A8\u30E9\u30FC\u304C\u3042\u308A\u307E\u3059\u3002"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"curl_exec()"}),"\u95A2\u6570\u547C\u3073\u51FA\u3057\u524D\u306BWhaTap Header\u3092\u8A2D\u5B9A\u3059\u308B\u6A5F\u80FD\u3092\u524A\u9664\u3057\u3001",(0,s.jsx)(n.code,{children:"curl_init()"}),"\u95A2\u6570\u547C\u3073\u51FA\u3057\u5F8C\u306B\u8A2D\u5B9A\u3059\u308B\u3088\u3046\u4FEE\u6B63\u3057\u307E\u3057\u305F\u3002"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"curl_exec()"}),"\u95A2\u6570\u547C\u3073\u51FA\u3057\u524D\u306B\u30E6\u30FC\u30B6\u30FCHeader\u3092\u8A2D\u5B9A\u3059\u308B\u5834\u5408\u3001\u6700\u521D\u306B\u8A2D\u5B9A\u3055\u308C\u3066\u3044\u305FWhaTap Header\u306F\u524A\u9664\u3055\u308C\u307E\u3059\u3002"]}),(0,s.jsx)(n.p,{children:"\u30DE\u30EB\u30C1\u30C8\u30E9\u30F3\u30B6\u30AF\u30B7\u30E7\u30F3\u3092\u884C\u3046\u306B\u306F\u3001\u4EE5\u4E0B\u306E\u30AC\u30A4\u30C9\u306B\u5F93\u3063\u3066PHP\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9\u3067\u76F4\u63A5WhaTap Header\u3092\u8FFD\u52A0\u3059\u308B\u5FC5\u8981\u304C\u3042\u308A\u307E\u3059\u3002"}),(0,s.jsx)(n.p,{children:"\u30B5\u30F3\u30D7\u30EB\u30BD\u30FC\u30B9\u30B3\u30FC\u30C9 /usr/whatap/php/lib/Whatap/sample_mtrace.php"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:"title='php'",children:'// Whatap \u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u30C7\u30A3\u30EC\u30AF\u30C8\u30EA(/usr/whatap/php/lib/Whatap/Whatap.php)\n  \n// Whatap.php\u3092\u8AAD\u307F\u8FBC\u307F\u307E\u3059\u3002 \ninclude_once \'./Whatap.php\';\n\n...\n\n// \u30E6\u30FC\u30B6\u30FC\u30D8\u30C3\u30C0\u30FC\u60C5\u5831\n$headers = array();\narray_push($headers, "aaaa:bbbb");\n\n// Whatap \u30D8\u30C3\u30C0\u30FC\u8FFD\u52A0 \n$whatap_mtrace = Whatap::whatap_get_mtrace();\nforeach ($whatap_mtrace as $key => $value){\n	//echo $key."=".$value."<br/>";\n	array_push($headers, "$key:$value");\n}\nunset($value);\n\ncurl_setopt($ch, CURLOPT_HTTPHEADER, $headers);\n...\n'})}),(0,s.jsx)(n.p,{children:"\u4EE5\u4E0B\u306E\u8A2D\u5B9A\u3067\u81EA\u52D5\u8A2D\u5B9A\u6A5F\u80FD\u3092\u8ABF\u6574\u3067\u304D\u307E\u3059\u3002"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"whatap.mtrace_auto_inject_enabled=true"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"curl_init()"}),"\u95A2\u6570\u547C\u3073\u51FA\u3057\u305F\u5F8C\u3001\u5185\u90E8\u3067",(0,s.jsx)(n.code,{children:"curl_setopt()"}),"\u3092\u547C\u3073\u51FA\u3057\u3001whatap header\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"}),"\uFF1AWhaTap Header\u306E\u81EA\u52D5\u8A2D\u5B9A\u6A5F\u80FD\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002"]}),"\n"]})]})]})}function p(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},37016:function(e,n,a){a.d(n,{Z:function(){return s}});var r=a(85893);function s(e){let{children:n,priority:a}=e;return a?(0,r.jsx)("code",{className:n,type:a,children:n}):(0,r.jsx)("code",{className:n,children:n})}a(67294)},13348:function(e,n,a){a.d(n,{Z:function(){return s}});var r=a(85893);function s(e){let{children:n}=e;return(0,r.jsx)("span",{className:"uitext",children:n})}a(67294)},50065:function(e,n,a){a.d(n,{Z:function(){return i},a:function(){return c}});var r=a(67294);let s={},t=r.createContext(s);function c(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);