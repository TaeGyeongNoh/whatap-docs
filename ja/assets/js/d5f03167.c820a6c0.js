"use strict";(self.webpackChunkWhaTap_Docs=self.webpackChunkWhaTap_Docs||[]).push([["83747"],{63179:function(n,e,t){t.r(e),t.d(e,{metadata:()=>r,contentTitle:()=>c,default:()=>u,assets:()=>l,toc:()=>g,frontMatter:()=>o});var r=JSON.parse('{"id":"release-notes/golang/golang-0_1_14","title":"Go Agent v0.1.14","description":"2022\u5E7412\u670814\u65E5","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/release-notes/golang/golang-0.1.14.mdx","sourceDirName":"release-notes/golang","slug":"/release-notes/golang/golang-0_1_14","permalink":"/ja/release-notes/golang/golang-0_1_14","draft":false,"unlisted":false,"editUrl":"undefined/docs/release-notes/golang/golang-0.1.14.mdx","tags":[],"version":"current","frontMatter":{"id":"golang-0_1_14","title":"Go Agent v0.1.14","toc_max_heading_level":2,"displayed_sidebar":"releaseSidebar","isTranslationMissing":false},"sidebar":"releaseSidebar"}'),i=t("85893"),a=t("50065"),s=t("37016");t("13348");let o={id:"golang-0_1_14",title:"Go Agent v0.1.14",toc_max_heading_level:2,displayed_sidebar:"releaseSidebar",isTranslationMissing:!1},c=void 0,l={},g=[{value:"2022\u5E7412\u670814\u65E5",id:"2022\u5E7412\u670814\u65E5",level:4}];function p(n){let e={a:"a",code:"code",h4:"h4",li:"li",p:"p",pre:"pre",section:"section",ul:"ul",...(0,a.a)(),...n.components};return(0,i.jsxs)(e.section,{className:"remark-sectionize-h4",children:[(0,i.jsx)(e.h4,{id:"2022\u5E7412\u670814\u65E5",children:"2022\u5E7412\u670814\u65E5"}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(s.Z,{children:"Fixed"})," UDP\u30B5\u30FC\u30D0\u30FC\u304C\u505C\u6B62\u3057\u305F\u72B6\u614B\u3067CPU\u4F7F\u7528\u7387\u304C\u5897\u52A0\u3059\u308B\u73FE\u8C61\u3092\u4FEE\u6B63"]}),"\n",(0,i.jsx)(e.p,{children:"UDP\u30B5\u30FC\u30D0\u30FC\u304C\u505C\u6B62\u3057\u305F\u72B6\u614B(whatap-agent\u30B5\u30FC\u30D3\u30B9\u304C\u505C\u6B62)\u3067\u3001Go\u30E2\u30CB\u30BF\u30EA\u30F3\u30B0\u3092\u9069\u7528\u3059\u308B\u3068\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306ECPU\u8CA0\u8377\u304C\u5897\u52A0\u3057\u307E\u3059\u3002UDP\u30B5\u30FC\u30D0\u30FC\u3078\u306E\u63A5\u7D9A\u3068\u7D42\u4E86\u306E\u51E6\u7406\u304C\u7E70\u308A\u8FD4\u3055\u308C\u308B\u3053\u3068\u3067\u3001UDP\u63A5\u7D9A\u304C\u8907\u6570\u7DAD\u6301\u3055\u308C\u3001CPU\u4F7F\u7528\u91CF\u304C\u5897\u52A0\u3057\u307E\u3059\u3002"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(s.Z,{children:"New"})," k8s.io/client-go/kubernetes\u30E9\u30A4\u30D6\u30E9\u30EA\u306B\u5BFE\u5FDC"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/whatap/go-api-example/tree/main/k8s.io/client-go/kubernetes",children:"\u53C2\u8003\u4F8B"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",metastring:"title='golang'",children:'import (\n  "k8s.io/client-go/rest"\n)\n\nfunc main() {\n  // Init whatap trace\n  config := make(map[string]string)\n  trace.Init(config)\n  defer trace.Shutdown()\n\n  ...\n\n  config, err := clientcmd.BuildConfigFromFlags("", *kubeconfig)\n  if err != nil {\n    return nil, err\n  }\n\n  // whatap roundTripper\u95A2\u6570\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002 \n  config.WrapTransport = wRT.WrapRoundTripper()\n\n  clientset, err := kubernetes.NewForConfig(config)\n  if err != nil {\n    return nil, err\n  }\n\n  deploymentsClient := clientset.AppsV1().Deployments(conf.Server.Namespace)\n\n  ...\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(s.Z,{children:"New"})," github.com/gofiber/fiber/v2\u30E9\u30A4\u30D6\u30E9\u30EA\u306B\u5BFE\u5FDC"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/whatap/go-api-example/tree/main/github.com/gofiber/fiber",children:"\u53C2\u8003\u4F8B"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",metastring:"title='golang'",children:'import (\n  "github.com/whatap/go-api/instrumentation/github.com/gofiber/fiber/v2/whatapfiber"\n)\n\nfunc main() {\n  // Init whatap trace\n  config := make(map[string]string)\n  trace.Init(config)\n  defer trace.Shutdown()\n\n  ...\n\n  r := fiber.New(fiber.Config{\n    StrictRouting: true,\n    Views:         engine,\n  })\n\n  r.Use(recover.New())\n\n  // whatapfiber\u306Emiddleware\u3092\u767B\u9332\u3057\u307E\u3059\u3002\n  r.Use(whatapfiber.Middleware())\n  \n  ...\n}\n'})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(s.Z,{children:"New"})," github.com/valyala/fasthttp\u30E9\u30A4\u30D6\u30E9\u30EA\u306B\u5BFE\u5FDC"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/whatap/go-api-example/tree/main/github.com/valyala/fasthttp",children:"\u53C2\u8003\u4F8B"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-go",metastring:"title='golang'",children:'import (\n  "github.com/whatap/go-api/instrumentation/github.com/valyala/fasthttp/whatapfasthttp"\n)\n\nfunc main() {\n  // Init whatap trace\n  config := make(map[string]string)\n  trace.Init(config)\n  defer trace.Shutdown()\n\n  ...\n    \n  r := fiber.New(fiber.Config{\n    StrictRouting: true,\n    Views:         engine,\n  })\n\n  r.Use(recover.New())\n\n  // \u30E9\u30C3\u30D1\u30FC\uFF08Wrapper\uFF09\u95A2\u6570whatapfasthtp.Func\u3092\u4F7F\u7528\u3057\u307E\u3059\u3002 \n  r.GET("/", whatapfasthttp.Func(func(ctx *fasthttp.RequestCtx) {\n    ...\n  }))\n  r.GET("/hello/{name}", whatapfasthttp.Func(func(ctx *fasthttp.RequestCtx) {\n    fmt.Fprintf(ctx, "Hello, %s!\\n", ctx.UserValue("name"))\n    ctx.SetContentType("text/html;charset=utf8")\n  }))\n}\n'})}),"\n"]}),"\n"]})]})}function u(n={}){let{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},37016:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(85893);function i(n){let{children:e,priority:t}=n;return t?(0,r.jsx)("code",{className:e,type:t,children:e}):(0,r.jsx)("code",{className:e,children:e})}t(67294)},13348:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(85893);function i(n){let{children:e}=n;return(0,r.jsx)("span",{className:"uitext",children:e})}t(67294)},50065:function(n,e,t){t.d(e,{Z:function(){return o},a:function(){return s}});var r=t(67294);let i={},a=r.createContext(i);function s(n){let e=r.useContext(a);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),r.createElement(a.Provider,{value:e},n.children)}}}]);